module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},95735,(a,b,c)=>{"use strict";b.exports=a.r(18622)},17123,(a,b,c)=>{"use strict";b.exports=a.r(95735).vendored["react-ssr"].ReactJsxRuntime},41294,(a,b,c)=>{"use strict";b.exports=a.r(95735).vendored["react-ssr"].React},63327,a=>{"use strict";async function b(a,c={}){let d,e=a;e.endsWith(".php")&&(e=e.replace(".php","")),e.startsWith("/api/")||(e="/api/"+e);let f={headers:{"Content-Type":"application/json"},...c},g=await fetch(e,f),h=await g.text();try{d=h?JSON.parse(h):{}}catch(a){d={}}if(!g.ok){let a=Error(d.error||d.errors?.join(", ")||"Erreur API");throw a.status=g.status,a.data=d,a}return d}async function c(a={}){let d=new URLSearchParams(a).toString();return b(`tickets${d?`?${d}`:""}`)}async function d(a){return b(`tickets?id=${encodeURIComponent(a)}`)}async function e(a){return b("tickets",{method:"POST",body:JSON.stringify(a)})}async function f(a,c){return b(`tickets?id=${encodeURIComponent(a)}`,{method:"PUT",body:JSON.stringify(c)})}async function g(a,c){return b(`tickets?id=${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(c)})}async function h(a){return b(`tickets?id=${encodeURIComponent(a)}`,{method:"DELETE"})}async function i(a={}){let c=new URLSearchParams(a).toString();return b(`archives${c?`?${c}`:""}`)}async function j(a){return b(`archives?id=${encodeURIComponent(a)}`,{method:"POST"})}async function k(){return b("stats")}async function l(a){return b(`status?id=${encodeURIComponent(a)}`)}async function m(a,c=""){let d=new URLSearchParams({q:a});return c&&d.set("category",c),b(`suggestions?${d.toString()}`)}a.s(["archiveTicket",()=>j,"createTicket",()=>e,"deleteTicket",()=>h,"getArchives",()=>i,"getModelSuggestions",()=>m,"getPublicStatus",()=>l,"getStats",()=>k,"getTicket",()=>d,"getTickets",()=>c,"updateTicket",()=>f,"updateTicketStatus",()=>g])},7588,a=>{"use strict";async function b(a,b){let c=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:b})}),d=await c.json();if(!c.ok)throw Error(d.error||"Erreur de connexion");return d}function c(){}function d(){return!1}function e(){return null}async function f(a){let b=await fetch(`/api/tickets?search=${encodeURIComponent(a)}`),c=await b.json();if(!b.ok)throw Error(c.error||"Erreur");return c.data||c}a.i(63327),a.s(["getUser",()=>e,"isAuthenticated",()=>d,"loginTechnician",()=>b,"logout",()=>c,"lookupTicketsByPhone",()=>f])},24849,a=>{"use strict";var b=a.i(17123),c=a.i(41294),d=a.i(7588);let e=(0,c.createContext)(null);function f({children:a}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{g((0,d.isAuthenticated)()?(0,d.getUser)():null),i(!0)},[]),(0,b.jsx)(e.Provider,{value:{user:f,checked:h,login:function(a){g(a)},logout:function(){(0,d.logout)(),g(null)}},children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useAuth must be used within AuthProvider");return a}a.s(["AuthProvider",()=>f,"useAuth",()=>g])},86404,a=>{"use strict";var b=a.i(17123),c=a.i(41294),d=a.i(53530);let e=(0,c.createContext)(null);function f({children:a}){let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(null),j=(0,c.useCallback)(({type:a="info",title:b,message:c,duration:d=4e3})=>{let e=Date.now()+Math.random();g(d=>[...d,{id:e,type:a,title:b,message:c}]),setTimeout(()=>g(a=>a.filter(a=>a.id!==e)),d)},[]),k=(0,c.useCallback)(({title:a="Confirmer",message:b="",confirmText:c="Confirmer",cancelText:d="Annuler",danger:e=!1}={})=>new Promise(f=>{i({title:a,message:b,confirmText:c,cancelText:d,danger:e,resolve:f})}),[]),l=a=>{h?.resolve&&h.resolve(a),i(null)};return(0,b.jsxs)(e.Provider,{value:{showToast:j,confirm:k},children:[a,(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-3 max-w-sm w-full",children:f.map(a=>(0,b.jsxs)("div",{className:`w-full flex items-start gap-3 p-3 rounded-lg shadow-lg border ${"success"===a.type?"bg-emerald-50 border-emerald-100":"error"===a.type?"bg-red-50 border-red-100":"bg-sky-50 border-sky-100"}`,children:[(0,b.jsx)("div",{className:"mt-0.5 text-xl text-current",children:"success"===a.type?(0,b.jsx)(d.FiCheckCircle,{className:"text-emerald-600"}):"error"===a.type?(0,b.jsx)(d.FiXCircle,{className:"text-red-600"}):(0,b.jsx)(d.FiInfo,{className:"text-sky-600"})}),(0,b.jsxs)("div",{className:"flex-1 text-sm",children:[a.title&&(0,b.jsx)("div",{className:"font-semibold text-gray-800",children:a.title}),(0,b.jsx)("div",{className:"text-gray-700 mt-0.5 whitespace-pre-wrap",children:a.message})]}),(0,b.jsx)("button",{onClick:()=>g(b=>b.filter(b=>b.id!==a.id)),className:"text-gray-400 hover:text-gray-600","aria-label":"Close notification",children:(0,b.jsx)(d.FiX,{})})]},a.id))}),h&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>l(!1)}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 z-10 max-w-lg w-full mx-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:h.title}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:h.message}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>l(!1),className:"px-4 py-2 rounded-lg bg-gray-100 text-sm text-gray-700",children:h.cancelText}),(0,b.jsx)("button",{onClick:()=>l(!0),className:`px-4 py-2 rounded-lg text-sm font-medium ${h.danger?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:h.confirmText})]})]})]})]})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useToast must be used within ToastProvider");return a.showToast}function h(){let a=(0,c.useContext)(e);if(!a)throw Error("useConfirm must be used within ToastProvider");return a.confirm}a.s(["ToastProvider",()=>f,"default",0,f,"useConfirm",()=>h,"useToast",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1a2e2b3b._.js.map