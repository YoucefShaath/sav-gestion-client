{"version":3,"sources":["../../../../../sav-gestion-client/src/lib/utils.js","../../../../../sav-gestion-client/src/components/DeviceStep.js","../../../../../sav-gestion-client/src/app/%28admin%29/new-ticket/page.js"],"sourcesContent":["/**\r\n * Shared constants and utility functions\r\n */\r\n\r\nexport const STATUSES = [\r\n  \"Received\",\r\n  \"Diagnostic\",\r\n  \"In Progress\",\r\n  \"Completed\",\r\n  \"Delivered\",\r\n];\r\n\r\nexport const STATUS_LABELS = {\r\n  Received: \"Re√ßu\",\r\n  Diagnostic: \"Diagnostic\",\r\n  \"In Progress\": \"En cours\",\r\n  Completed: \"Termin√©\",\r\n  Delivered: \"Livr√©\",\r\n};\r\n\r\nexport const STATUS_COLORS = {\r\n  Received: { bg: \"bg-red-100\", text: \"text-red-700\", dot: \"bg-red-500\" },\r\n  Diagnostic: {\r\n    bg: \"bg-amber-100\",\r\n    text: \"text-amber-700\",\r\n    dot: \"bg-amber-500\",\r\n  },\r\n  \"In Progress\": {\r\n    bg: \"bg-blue-100\",\r\n    text: \"text-blue-700\",\r\n    dot: \"bg-blue-500\",\r\n  },\r\n  Completed: {\r\n    bg: \"bg-green-100\",\r\n    text: \"text-green-700\",\r\n    dot: \"bg-green-500\",\r\n  },\r\n  Delivered: { bg: \"bg-gray-100\", text: \"text-gray-600\", dot: \"bg-gray-400\" },\r\n};\r\n\r\nexport const PRIORITIES = [\"Low\", \"Normal\", \"High\", \"Urgent\"];\r\n\r\nexport const PRIORITY_LABELS = {\r\n  Low: \"Basse\",\r\n  Normal: \"Normale\",\r\n  High: \"Haute\",\r\n  Urgent: \"Urgente\",\r\n};\r\n\r\nexport const PRIORITY_COLORS = {\r\n  Low: { bg: \"bg-slate-100\", text: \"text-slate-600\" },\r\n  Normal: { bg: \"bg-blue-50\", text: \"text-blue-600\" },\r\n  High: { bg: \"bg-orange-100\", text: \"text-orange-700\" },\r\n  Urgent: { bg: \"bg-red-100\", text: \"text-red-700\" },\r\n};\r\n\r\nexport const CATEGORIES = [\r\n  \"Laser Mono - Photocopieur\",\r\n  \"Laser Mono - MFP\",\r\n  \"Laser Couleur - Photocopieur\",\r\n  \"Laser Couleur - MFP\",\r\n  \"MFP Ink\",\r\n  \"Matricielle\",\r\n  \"Laptop\",\r\n  \"All In One\",\r\n  \"PC Bureaux\",\r\n  \"Serveur\",\r\n  \"Ecran\",\r\n  \"Reseau\",\r\n  \"Other\",\r\n];\r\n\r\n/** Group categories by family for the picker UI */\r\nexport const CATEGORY_GROUPS = [\r\n  {\r\n    group: \"Imprimante\",\r\n    icon: \"üñ®Ô∏è\",\r\n    items: [\r\n      \"Laser Mono - Photocopieur\",\r\n      \"Laser Mono - MFP\",\r\n      \"Laser Couleur - Photocopieur\",\r\n      \"Laser Couleur - MFP\",\r\n      \"MFP Ink\",\r\n      \"Matricielle\",\r\n    ],\r\n  },\r\n  {\r\n    group: \"Informatique\",\r\n    icon: \"üíª\",\r\n    items: [\"Laptop\", \"All In One\", \"PC Bureaux\", \"Serveur\", \"Ecran\", \"Reseau\"],\r\n  },\r\n];\r\n\r\nexport const CATEGORY_LABELS = {\r\n  \"Laser Mono - Photocopieur\": \"Laser Mono ‚Äì Photocopieur\",\r\n  \"Laser Mono - MFP\": \"Laser Mono ‚Äì Imprimante MFP\",\r\n  \"Laser Couleur - Photocopieur\": \"Laser Couleur ‚Äì Photocopieur\",\r\n  \"Laser Couleur - MFP\": \"Laser Couleur ‚Äì Imprimante MFP\",\r\n  \"MFP Ink\": \"MFP Ink Cartouche / Bouteille\",\r\n  Matricielle: \"Matricielle\",\r\n  Laptop: \"Laptop\",\r\n  \"All In One\": \"All In One\",\r\n  \"PC Bureaux\": \"PC Bureaux\",\r\n  Serveur: \"Serveur\",\r\n  Ecran: \"√âcran\",\r\n  Reseau: \"R√©seau\",\r\n  Other: \"Autre\",\r\n};\r\n\r\nexport const CATEGORY_ICONS = {\r\n  \"Laser Mono - Photocopieur\": \"printer\",\r\n  \"Laser Mono - MFP\": \"printer\",\r\n  \"Laser Couleur - Photocopieur\": \"printer\",\r\n  \"Laser Couleur - MFP\": \"printer\",\r\n  \"MFP Ink\": \"printer\",\r\n  Matricielle: \"printer\",\r\n  Laptop: \"laptop\",\r\n  \"All In One\": \"laptop\",\r\n  \"PC Bureaux\": \"laptop\",\r\n  Serveur: \"server\",\r\n  Ecran: \"laptop\",\r\n  Reseau: \"server\",\r\n  Other: \"wrench\",\r\n};\r\n\r\n/** Categories that count as \"computer\" for the problem picker */\r\nexport const COMPUTER_CATEGORIES = [\r\n  \"Laptop\",\r\n  \"All In One\",\r\n  \"PC Bureaux\",\r\n  \"Serveur\",\r\n];\r\n\r\nexport const COMPUTER_PROBLEMS = [\r\n  \"Disques durs (HDD / SSD)\",\r\n  \"Barrettes m√©moire (RAM)\",\r\n  \"Cartes m√®res\",\r\n  \"Alimentations\",\r\n  \"Cartes graphiques\",\r\n  \"Processeurs\",\r\n  \"Ventilateurs / Syst√®mes de refroidissement\",\r\n];\r\n\r\nexport const BRANDS = [\r\n  \"HP\",\r\n  \"Dell\",\r\n  \"Lenovo\",\r\n  \"Acer\",\r\n  \"Toshiba\",\r\n  \"Epson\",\r\n  \"Canon\",\r\n  \"Sharp\",\r\n  \"Kyocera\",\r\n  \"Lexmark\",\r\n  \"Dahua\",\r\n  \"Tenda\",\r\n  \"TP-Link\",\r\n  \"D-Link\",\r\n  \"TopLink\",\r\n  \"Enigma\",\r\n];\r\n\r\nexport const TRANSITIONS = {\r\n  Received: [\"Diagnostic\"],\r\n  Diagnostic: [\"In Progress\", \"Received\", \"Completed\"],\r\n  \"In Progress\": [\"Completed\", \"Diagnostic\"],\r\n  Completed: [\"Delivered\", \"In Progress\"],\r\n  Delivered: [],\r\n};\r\n\r\nexport function formatDate(dateStr) {\r\n  if (!dateStr) return \"‚Äî\";\r\n  return new Date(dateStr).toLocaleDateString(\"fr-FR\", {\r\n    day: \"2-digit\",\r\n    month: \"2-digit\",\r\n    year: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n}\r\n\r\nexport function formatCurrency(amount) {\r\n  if (amount === null || amount === undefined) return \"‚Äî\";\r\n  return new Intl.NumberFormat(\"fr-DZ\", {\r\n    style: \"currency\",\r\n    currency: \"DZD\",\r\n    minimumFractionDigits: 0,\r\n  }).format(amount);\r\n}\r\n\r\nexport function getStatusStep(status) {\r\n  return STATUSES.indexOf(status);\r\n}\r\n\r\nexport function validatePhone(phone) {\r\n  const cleaned = phone.replace(/[\\s\\-\\.]/g, \"\");\r\n  return /^(\\+?\\d{10,15})$/.test(cleaned);\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport {\r\n  CATEGORY_GROUPS,\r\n  CATEGORY_LABELS,\r\n  CATEGORY_ICONS,\r\n  BRANDS,\r\n  COMPUTER_CATEGORIES,\r\n  COMPUTER_PROBLEMS,\r\n} from \"@/lib/utils\";\r\nimport { getModelSuggestions } from \"@/lib/api\";\r\nimport Icon from \"@/components/Icons\";\r\n\r\n/**\r\n * DeviceStep ‚Äî Step 2 of ticket creation.\r\n * Category picker (grouped, with \"Other\"), brand selector (with \"Other\"),\r\n * model with autocomplete, serial number with barcode scanner support.\r\n */\r\nexport default function DeviceStep({\r\n  form,\r\n  updateField,\r\n  errors,\r\n  ic,\r\n  customCategory,\r\n  setCustomCategory,\r\n  customBrand,\r\n  setCustomBrand,\r\n}) {\r\n  const [modelQuery, setModelQuery] = useState(form.model || \"\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [scanFocused, setScanFocused] = useState(false);\r\n  const suggestionsRef = useRef(null);\r\n  const debounceRef = useRef(null);\r\n\r\n  const isOtherCategory = form.hardware_category === \"__other__\";\r\n  const isOtherBrand = form.brand === \"__other__\";\r\n\r\n  // Close suggestions on outside click\r\n  useEffect(() => {\r\n    function handleClick(e) {\r\n      if (\r\n        suggestionsRef.current &&\r\n        !suggestionsRef.current.contains(e.target)\r\n      ) {\r\n        setShowSuggestions(false);\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClick);\r\n    return () => document.removeEventListener(\"mousedown\", handleClick);\r\n  }, []);\r\n\r\n  // Model autocomplete\r\n  const fetchSuggestions = useCallback(\r\n    async (q) => {\r\n      if (q.length < 1) {\r\n        setSuggestions([]);\r\n        return;\r\n      }\r\n      try {\r\n        const cat =\r\n          form.hardware_category === \"__other__\"\r\n            ? customCategory\r\n            : form.hardware_category;\r\n        const results = await getModelSuggestions(q, cat);\r\n        setSuggestions(results);\r\n        setShowSuggestions(results.length > 0);\r\n      } catch {\r\n        setSuggestions([]);\r\n      }\r\n    },\r\n    [form.hardware_category, customCategory],\r\n  );\r\n\r\n  function handleModelChange(value) {\r\n    setModelQuery(value);\r\n    updateField(\"model\", value);\r\n    // Debounce autocomplete\r\n    clearTimeout(debounceRef.current);\r\n    debounceRef.current = setTimeout(() => fetchSuggestions(value), 250);\r\n  }\r\n\r\n  function pickSuggestion(s) {\r\n    if (s.brand) updateField(\"brand\", s.brand);\r\n    if (s.model) {\r\n      updateField(\"model\", s.model);\r\n      setModelQuery(s.model);\r\n    }\r\n    setShowSuggestions(false);\r\n  }\r\n\r\n  // Get the display label for the category\r\n  function getCategoryDisplay() {\r\n    if (isOtherCategory) return customCategory || \"Autre (personnalis√©)\";\r\n    return CATEGORY_LABELS[form.hardware_category] || form.hardware_category;\r\n  }\r\n\r\n  function getBrandDisplay() {\r\n    if (isOtherBrand) return customBrand || \"\";\r\n    return form.brand;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n        Informations du mat√©riel\r\n      </h2>\r\n\r\n      {/* ‚îÄ‚îÄ Category Picker ‚îÄ‚îÄ */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n          Cat√©gorie *\r\n        </label>\r\n        {errors.hardware_category && (\r\n          <p className=\"mb-2 text-sm text-red-600\">\r\n            {errors.hardware_category}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"space-y-4\">\r\n          {CATEGORY_GROUPS.map((group) => (\r\n            <div key={group.group}>\r\n              <p className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                <span>{group.icon}</span> {group.group}\r\n              </p>\r\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\r\n                {group.items.map((cat) => (\r\n                  <button\r\n                    key={cat}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      updateField(\"hardware_category\", cat);\r\n                      setCustomCategory(\"\");\r\n                    }}\r\n                    className={`p-3 rounded-xl border-2 text-center transition-all text-xs sm:text-sm font-medium leading-tight flex flex-col items-center gap-2 h-24 overflow-hidden\r\n                      ${\r\n                        form.hardware_category === cat\r\n                          ? \"border-blue-500 bg-blue-50 text-blue-700\"\r\n                          : \"border-gray-200 hover:border-gray-300 text-gray-600\"\r\n                      }`}\r\n                  >\r\n                    <span className=\"inline-flex items-center justify-center w-12 h-12 rounded-md bg-white/50 text-slate-600 shadow-sm\">\r\n                      <Icon name={CATEGORY_ICONS[cat]} className=\"w-6 h-6\" />\r\n                    </span>\r\n                    <span className=\"mt-2 text-sm text-center leading-tight break-words whitespace-normal\">\r\n                      {CATEGORY_LABELS[cat]}\r\n                    </span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {/* Other category button + input */}\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => updateField(\"hardware_category\", \"__other__\")}\r\n              className={`w-full p-2.5 rounded-xl border-2 text-center transition-transform transform hover:-translate-y-0.5 duration-150 text-sm font-medium\r\n                ${\r\n                  isOtherCategory\r\n                    ? \"border-blue-500 bg-blue-50 text-blue-700\"\r\n                    : \"border-dashed border-gray-300 hover:border-gray-400 text-gray-500\"\r\n                }`}\r\n            >\r\n              <span className=\"inline-flex items-center gap-2 justify-center\">\r\n                <Icon name=\"pencil\" className=\"w-4 h-4\" />\r\n                Autre cat√©gorie...\r\n              </span>\r\n            </button>\r\n            {isOtherCategory && (\r\n              <input\r\n                type=\"text\"\r\n                value={customCategory}\r\n                onChange={(e) => setCustomCategory(e.target.value)}\r\n                placeholder=\"Entrez la cat√©gorie...\"\r\n                className={`mt-2 ${ic()}`}\r\n                autoFocus\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ‚îÄ‚îÄ Brand Picker ‚îÄ‚îÄ */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n          Marque *\r\n        </label>\r\n        {errors.brand && (\r\n          <p className=\"mb-2 text-sm text-red-600\">{errors.brand}</p>\r\n        )}\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {BRANDS.map((b) => (\r\n            <button\r\n              key={b}\r\n              type=\"button\"\r\n              onClick={() => {\r\n                updateField(\"brand\", b);\r\n                setCustomBrand(\"\");\r\n              }}\r\n              className={`px-3 py-1.5 rounded-lg border-2 text-sm font-medium transition-all\r\n                ${\r\n                  form.brand === b\r\n                    ? \"border-blue-500 bg-blue-50 text-blue-700\"\r\n                    : \"border-gray-200 hover:border-gray-300 text-gray-600\"\r\n                }`}\r\n            >\r\n              {b}\r\n            </button>\r\n          ))}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => updateField(\"brand\", \"__other__\")}\r\n            className={`px-3 py-1.5 rounded-lg border-2 text-sm font-medium transition-all\r\n              ${\r\n                isOtherBrand\r\n                  ? \"border-blue-500 bg-blue-50 text-blue-700\"\r\n                  : \"border-dashed border-gray-300 hover:border-gray-400 text-gray-500\"\r\n              }`}\r\n          >\r\n            ‚úèÔ∏è Autre\r\n          </button>\r\n        </div>\r\n        {isOtherBrand && (\r\n          <input\r\n            type=\"text\"\r\n            value={customBrand}\r\n            onChange={(e) => setCustomBrand(e.target.value)}\r\n            placeholder=\"Entrez la marque...\"\r\n            className={`mt-2 ${ic()}`}\r\n            autoFocus\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* ‚îÄ‚îÄ Reference ‚îÄ‚îÄ */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          R√©f√©rence\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={form.reference || \"\"}\r\n          onChange={(e) => updateField(\"reference\", e.target.value)}\r\n          placeholder=\"Ex: CF258A, TN-2420...\"\r\n          className={ic()}\r\n        />\r\n      </div>\r\n\r\n      {/* ‚îÄ‚îÄ Model with autocomplete ‚îÄ‚îÄ */}\r\n      <div className=\"relative\" ref={suggestionsRef}>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Mod√®le\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={modelQuery}\r\n          onChange={(e) => handleModelChange(e.target.value)}\r\n          onFocus={() => suggestions.length > 0 && setShowSuggestions(true)}\r\n          placeholder=\"Ex: XPS 15, LaserJet Pro M404...\"\r\n          className={ic()}\r\n          autoComplete=\"off\"\r\n        />\r\n        {/* Suggestions dropdown */}\r\n        {showSuggestions && suggestions.length > 0 && (\r\n          <div className=\"absolute z-20 top-full left-0 right-0 mt-1 bg-white rounded-lg border border-gray-200 shadow-lg max-h-48 overflow-y-auto transition-opacity duration-150\">\r\n            {suggestions.map((s, i) => (\r\n              <button\r\n                key={i}\r\n                type=\"button\"\r\n                onClick={() => pickSuggestion(s)}\r\n                className=\"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 transition-colors flex items-center gap-2 transform hover:translate-x-0.5\"\r\n              >\r\n                <span className=\"text-gray-400\">\r\n                  <Icon name=\"search\" className=\"w-4 h-4\" />\r\n                </span>\r\n                <span className=\"font-medium text-gray-800\">\r\n                  {s.brand} {s.model}\r\n                </span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* ‚îÄ‚îÄ Serial Number with barcode scan indicator ‚îÄ‚îÄ */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1.5 flex items-center gap-2\">\r\n          Num√©ro de s√©rie\r\n          <span className=\"text-xs text-gray-400 font-normal flex items-center gap-1\">\r\n            <svg\r\n              className=\"w-3.5 h-3.5\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z\"\r\n              />\r\n            </svg>\r\n            Compatible douchette\r\n          </span>\r\n        </label>\r\n        <div className=\"relative\">\r\n          <input\r\n            type=\"text\"\r\n            value={form.serial_number}\r\n            onChange={(e) => updateField(\"serial_number\", e.target.value)}\r\n            onFocus={() => setScanFocused(true)}\r\n            onBlur={() => setScanFocused(false)}\r\n            placeholder=\"Scanner ou taper le num√©ro de s√©rie...\"\r\n            className={`${ic()} ${scanFocused ? \"!border-emerald-500 !ring-2 !ring-emerald-100\" : \"\"}`}\r\n            autoComplete=\"off\"\r\n          />\r\n          {scanFocused && (\r\n            <div className=\"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1 text-emerald-500\">\r\n              <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\" />\r\n              <span className=\"text-xs font-medium\">Pr√™t √† scanner</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Get the actual category value to send to the API.\r\n * Resolves `__other__` to the custom text.\r\n */\r\nexport function resolveCategory(form, customCategory) {\r\n  if (form.hardware_category === \"__other__\") return customCategory || \"Other\";\r\n  return form.hardware_category;\r\n}\r\n\r\n/**\r\n * Get the actual brand value to send to the API.\r\n */\r\nexport function resolveBrand(form, customBrand) {\r\n  if (form.brand === \"__other__\") return customBrand || \"\";\r\n  return form.brand;\r\n}\r\n\r\n/**\r\n * ProblemStep ‚Äî Step 3. For computer categories, show predefined problems.\r\n */\r\nexport function ProblemStep({ form, updateField, errors, ic }) {\r\n  const isComputer = COMPUTER_CATEGORIES.includes(form.hardware_category);\r\n  const [selectedProblems, setSelectedProblems] = useState([]);\r\n  const [customProblem, setCustomProblem] = useState(\"\");\r\n  const [showOther, setShowOther] = useState(false);\r\n\r\n  // Sync selected problems to problem_description\r\n  useEffect(() => {\r\n    if (isComputer) {\r\n      const parts = [...selectedProblems];\r\n      if (customProblem.trim()) parts.push(customProblem.trim());\r\n      updateField(\"problem_description\", parts.join(\", \"));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedProblems, customProblem, isComputer]);\r\n\r\n  function toggleProblem(p) {\r\n    setSelectedProblems((prev) =>\r\n      prev.includes(p) ? prev.filter((x) => x !== p) : [...prev, p],\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n        Description du probl√®me\r\n      </h2>\r\n\r\n      {isComputer ? (\r\n        <>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Type de panne *{\" \"}\r\n              <span className=\"text-xs text-gray-400 font-normal\">\r\n                (s√©lection multiple)\r\n              </span>\r\n            </label>\r\n            {errors.problem_description && (\r\n              <p className=\"mb-2 text-sm text-red-600\">\r\n                {errors.problem_description}\r\n              </p>\r\n            )}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\r\n              {COMPUTER_PROBLEMS.map((p) => (\r\n                <button\r\n                  key={p}\r\n                  type=\"button\"\r\n                  onClick={() => toggleProblem(p)}\r\n                  className={`p-3 rounded-xl border-2 text-left transition-all text-sm font-medium flex items-center gap-2\r\n                    ${\r\n                      selectedProblems.includes(p)\r\n                        ? \"border-blue-500 bg-blue-50 text-blue-700\"\r\n                        : \"border-gray-200 hover:border-gray-300 text-gray-600\"\r\n                    }`}\r\n                >\r\n                  <span\r\n                    className={`w-5 h-5 rounded flex-shrink-0 flex items-center justify-center text-xs border-2 transition-colors\r\n                      ${\r\n                        selectedProblems.includes(p)\r\n                          ? \"bg-blue-600 border-blue-600 text-white\"\r\n                          : \"border-gray-300\"\r\n                      }`}\r\n                  >\r\n                    {selectedProblems.includes(p) && \"‚úì\"}\r\n                  </span>\r\n                  {p}\r\n                </button>\r\n              ))}\r\n\r\n              {/* Other problem */}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowOther(!showOther)}\r\n                className={`p-3 rounded-xl border-2 text-left transition-all text-sm font-medium flex items-center gap-2\r\n                  ${\r\n                    showOther\r\n                      ? \"border-blue-500 bg-blue-50 text-blue-700\"\r\n                      : \"border-dashed border-gray-300 hover:border-gray-400 text-gray-500\"\r\n                  }`}\r\n              >\r\n                <span\r\n                  className={`w-5 h-5 rounded flex-shrink-0 flex items-center justify-center text-xs border-2 transition-colors\r\n                    ${showOther ? \"bg-blue-600 border-blue-600 text-white\" : \"border-gray-300\"}`}\r\n                >\r\n                  {showOther && \"‚úì\"}\r\n                </span>\r\n                ‚úèÔ∏è Autre probl√®me...\r\n              </button>\r\n            </div>\r\n            {showOther && (\r\n              <textarea\r\n                value={customProblem}\r\n                onChange={(e) => setCustomProblem(e.target.value)}\r\n                rows={3}\r\n                placeholder=\"D√©crivez le probl√®me...\"\r\n                className={`mt-3 ${ic()}`}\r\n                autoFocus\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n            Description de la panne *\r\n          </label>\r\n          {errors.problem_description && (\r\n            <p className=\"mb-2 text-sm text-red-600\">\r\n              {errors.problem_description}\r\n            </p>\r\n          )}\r\n          <textarea\r\n            value={form.problem_description}\r\n            onChange={(e) => updateField(\"problem_description\", e.target.value)}\r\n            rows={5}\r\n            placeholder=\"D√©crivez le probl√®me en d√©tail...\"\r\n            className={ic(errors.problem_description)}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { createTicket } from \"@/lib/api\";\r\nimport {\r\n  CATEGORY_LABELS,\r\n  CATEGORY_ICONS,\r\n  PRIORITIES,\r\n  PRIORITY_LABELS,\r\n  validatePhone,\r\n} from \"@/lib/utils\";\r\nimport Icon from \"@/components/Icons\";\r\nimport QRCodeDisplay from \"@/components/QRCodeDisplay\";\r\nimport DeviceStep, {\r\n  ProblemStep,\r\n  resolveCategory,\r\n  resolveBrand,\r\n} from \"@/components/DeviceStep\";\r\n\r\nconst STEPS = [\r\n  { id: 1, title: \"Client\", description: \"Informations du client\" },\r\n  { id: 2, title: \"Mat√©riel\", description: \"D√©tails du mat√©riel\" },\r\n  { id: 3, title: \"Probl√®me\", description: \"Description de la panne\" },\r\n  { id: 4, title: \"Confirmation\", description: \"V√©rification et cr√©ation\" },\r\n];\r\n\r\nconst INITIAL_FORM = {\r\n  client_name: \"\",\r\n  client_phone: \"\",\r\n  client_email: \"\",\r\n  hardware_category: \"\",\r\n  brand: \"\",\r\n  model: \"\",\r\n  reference: \"\",\r\n  serial_number: \"\",\r\n  problem_description: \"\",\r\n  priority: \"Normal\",\r\n  location: \"Reception\",\r\n};\r\n\r\nexport default function NewTicketPage() {\r\n  const router = useRouter();\r\n  const [step, setStep] = useState(1);\r\n  const [form, setForm] = useState(INITIAL_FORM);\r\n  const [errors, setErrors] = useState({});\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [created, setCreated] = useState(null);\r\n  const [customCategory, setCustomCategory] = useState(\"\");\r\n  const [customBrand, setCustomBrand] = useState(\"\");\r\n\r\n  function updateField(field, value) {\r\n    setForm((prev) => ({ ...prev, [field]: value }));\r\n    if (errors[field]) {\r\n      setErrors((prev) => {\r\n        const next = { ...prev };\r\n        delete next[field];\r\n        return next;\r\n      });\r\n    }\r\n  }\r\n\r\n  function validateStep(stepNum) {\r\n    const errs = {};\r\n\r\n    if (stepNum === 1) {\r\n      if (!form.client_name.trim()) errs.client_name = \"Le nom est obligatoire\";\r\n      if (!form.client_phone.trim())\r\n        errs.client_phone = \"Le t√©l√©phone est obligatoire\";\r\n      else if (!validatePhone(form.client_phone))\r\n        errs.client_phone = \"Num√©ro de t√©l√©phone invalide (10-15 chiffres)\";\r\n      if (\r\n        form.client_email &&\r\n        !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.client_email)\r\n      ) {\r\n        errs.client_email = \"Email invalide\";\r\n      }\r\n    }\r\n    if (stepNum === 2) {\r\n      if (!form.hardware_category)\r\n        errs.hardware_category = \"La cat√©gorie est obligatoire\";\r\n      if (form.hardware_category === \"__other__\" && !customCategory.trim())\r\n        errs.hardware_category = \"Veuillez entrer la cat√©gorie\";\r\n      if (!form.brand) errs.brand = \"La marque est obligatoire\";\r\n      if (form.brand === \"__other__\" && !customBrand.trim())\r\n        errs.brand = \"Veuillez entrer la marque\";\r\n    }\r\n    if (stepNum === 3) {\r\n      if (!form.problem_description.trim())\r\n        errs.problem_description = \"La description du probl√®me est obligatoire\";\r\n    }\r\n\r\n    setErrors(errs);\r\n    return Object.keys(errs).length === 0;\r\n  }\r\n\r\n  function nextStep() {\r\n    if (validateStep(step)) {\r\n      setStep((s) => Math.min(s + 1, 4));\r\n    }\r\n  }\r\n\r\n  function prevStep() {\r\n    setStep((s) => Math.max(s - 1, 1));\r\n  }\r\n\r\n  async function handleSubmit() {\r\n    if (!validateStep(3)) {\r\n      setStep(3);\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n    try {\r\n      const payload = {\r\n        ...form,\r\n        hardware_category: resolveCategory(form, customCategory),\r\n        brand: resolveBrand(form, customBrand),\r\n      };\r\n      const result = await createTicket(payload);\r\n      setCreated(result);\r\n    } catch (err) {\r\n      setErrors({ submit: err.message });\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  // ‚îÄ‚îÄ Success Screen ‚îÄ‚îÄ\r\n  if (created) {\r\n    return (\r\n      <div className=\"max-w-lg mx-auto\">\r\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 text-center\">\r\n          <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <svg\r\n              className=\"w-8 h-8 text-green-600\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M5 13l4 4L19 7\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n            Ticket cr√©√© avec succ√®s !\r\n          </h2>\r\n          <p className=\"text-gray-500 mb-6\">\r\n            Le ticket{\" \"}\r\n            <span className=\"font-mono font-semibold text-blue-600\">\r\n              {created.ticket_id}\r\n            </span>{\" \"}\r\n            a √©t√© enregistr√©.\r\n          </p>\r\n\r\n          <QRCodeDisplay ticketId={created.ticket_id} size={160} />\r\n\r\n          <p className=\"text-xs text-gray-400 mt-4 mb-6\">\r\n            Scannez ce QR code pour suivre l'√©tat de la r√©paration\r\n          </p>\r\n\r\n          <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n            <button\r\n              onClick={() => router.push(`/tickets/${created.ticket_id}`)}\r\n              className=\"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm\"\r\n            >\r\n              Voir le ticket\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setCreated(null);\r\n                setForm(INITIAL_FORM);\r\n                setStep(1);\r\n                setCustomCategory(\"\");\r\n                setCustomBrand(\"\");\r\n              }}\r\n              className=\"px-5 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium text-sm\"\r\n            >\r\n              Nouveau ticket\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      {/* Header */}\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Nouveau ticket</h1>\r\n        <p className=\"text-sm text-gray-500 mt-1\">\r\n          Enregistrer une nouvelle r√©ception de mat√©riel\r\n        </p>\r\n      </div>\r\n\r\n      {/* Step Indicator */}\r\n      <div className=\"flex items-center mb-8\">\r\n        {STEPS.map((s, i) => (\r\n          <div\r\n            key={s.id}\r\n            className=\"flex items-center flex-1 last:flex-initial\"\r\n          >\r\n            <div className=\"flex flex-col items-center\">\r\n              <div\r\n                className={`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold border-2 transition-all\r\n                  ${\r\n                    step > s.id\r\n                      ? \"bg-blue-600 border-blue-600 text-white\"\r\n                      : step === s.id\r\n                        ? \"bg-blue-50 border-blue-600 text-blue-600\"\r\n                        : \"bg-gray-100 border-gray-300 text-gray-400\"\r\n                  }`}\r\n              >\r\n                {step > s.id ? \"‚úì\" : s.id}\r\n              </div>\r\n              <span\r\n                className={`mt-1.5 text-[11px] font-medium hidden sm:block\r\n                ${step >= s.id ? \"text-blue-600\" : \"text-gray-400\"}`}\r\n              >\r\n                {s.title}\r\n              </span>\r\n            </div>\r\n            {i < STEPS.length - 1 && (\r\n              <div\r\n                className={`flex-1 h-0.5 mx-2 ${step > s.id ? \"bg-blue-500\" : \"bg-gray-200\"}`}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Form Card */}\r\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sm:p-8\">\r\n        {errors.submit && (\r\n          <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700\">\r\n            {errors.submit}\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 1: Client Info */}\r\n        {step === 1 && (\r\n          <div className=\"space-y-5\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              Informations du client\r\n            </h2>\r\n\r\n            <FormField label=\"Nom complet *\" error={errors.client_name}>\r\n              <input\r\n                type=\"text\"\r\n                value={form.client_name}\r\n                onChange={(e) => updateField(\"client_name\", e.target.value)}\r\n                placeholder=\"Ex: Mohamed Benali\"\r\n                className={inputClass(errors.client_name)}\r\n              />\r\n            </FormField>\r\n\r\n            <FormField label=\"T√©l√©phone *\" error={errors.client_phone}>\r\n              <input\r\n                type=\"tel\"\r\n                value={form.client_phone}\r\n                onChange={(e) => updateField(\"client_phone\", e.target.value)}\r\n                placeholder=\"Ex: 0555 12 34 56\"\r\n                className={inputClass(errors.client_phone)}\r\n              />\r\n            </FormField>\r\n\r\n            <FormField label=\"Email\" error={errors.client_email}>\r\n              <input\r\n                type=\"email\"\r\n                value={form.client_email}\r\n                onChange={(e) => updateField(\"client_email\", e.target.value)}\r\n                placeholder=\"Ex: client@email.com (optionnel)\"\r\n                className={inputClass(errors.client_email)}\r\n              />\r\n            </FormField>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 2: Hardware Info */}\r\n        {step === 2 && (\r\n          <DeviceStep\r\n            form={form}\r\n            updateField={updateField}\r\n            errors={errors}\r\n            ic={inputClass}\r\n            customCategory={customCategory}\r\n            setCustomCategory={setCustomCategory}\r\n            customBrand={customBrand}\r\n            setCustomBrand={setCustomBrand}\r\n          />\r\n        )}\r\n\r\n        {/* Step 3: Problem */}\r\n        {step === 3 && (\r\n          <div className=\"space-y-5\">\r\n            <ProblemStep\r\n              form={form}\r\n              updateField={updateField}\r\n              errors={errors}\r\n              ic={inputClass}\r\n            />\r\n\r\n            <FormField label=\"Priorit√©\">\r\n              <div className=\"flex gap-2 flex-wrap\">\r\n                {PRIORITIES.map((p) => (\r\n                  <button\r\n                    key={p}\r\n                    type=\"button\"\r\n                    onClick={() => updateField(\"priority\", p)}\r\n                    className={`px-4 py-2 rounded-lg border-2 text-sm font-medium transition-all\r\n                      ${\r\n                        form.priority === p\r\n                          ? \"border-blue-500 bg-blue-50 text-blue-700\"\r\n                          : \"border-gray-200 hover:border-gray-300 text-gray-600\"\r\n                      }`}\r\n                  >\r\n                    {PRIORITY_LABELS[p]}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </FormField>\r\n\r\n            <FormField label=\"Emplacement\">\r\n              <input\r\n                type=\"text\"\r\n                value={form.location}\r\n                onChange={(e) => updateField(\"location\", e.target.value)}\r\n                placeholder=\"Ex: Reception, Atelier, √âtag√®re A...\"\r\n                className={inputClass()}\r\n              />\r\n            </FormField>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 4: Confirmation */}\r\n        {step === 4 && (\r\n          <div className=\"space-y-5\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              V√©rification\r\n            </h2>\r\n\r\n            <div className=\"bg-gray-50 rounded-xl p-5 space-y-4\">\r\n              <ConfirmRow label=\"Client\" value={form.client_name} />\r\n              <ConfirmRow label=\"T√©l√©phone\" value={form.client_phone} />\r\n              {form.client_email && (\r\n                <ConfirmRow label=\"Email\" value={form.client_email} />\r\n              )}\r\n              <hr className=\"border-gray-200\" />\r\n              <ConfirmRow\r\n                label=\"Cat√©gorie\"\r\n                value={\r\n                  <span className=\"flex items-center gap-2\">\r\n                    <Icon\r\n                      name={\r\n                        CATEGORY_ICONS[resolveCategory(form, customCategory)]\r\n                      }\r\n                      className=\"w-5 h-5 text-slate-600\"\r\n                    />\r\n                    <span>\r\n                      {CATEGORY_LABELS[resolveCategory(form, customCategory)] ||\r\n                        resolveCategory(form, customCategory)}\r\n                    </span>\r\n                  </span>\r\n                }\r\n              />\r\n              <ConfirmRow\r\n                label=\"Marque\"\r\n                value={resolveBrand(form, customBrand) || \"‚Äî\"}\r\n              />\r\n              {form.reference && (\r\n                <ConfirmRow label=\"R√©f√©rence\" value={form.reference} />\r\n              )}\r\n              {form.model && <ConfirmRow label=\"Mod√®le\" value={form.model} />}\r\n              {form.serial_number && (\r\n                <ConfirmRow label=\"N¬∞ de s√©rie\" value={form.serial_number} />\r\n              )}\r\n              <hr className=\"border-gray-200\" />\r\n              <ConfirmRow label=\"Probl√®me\" value={form.problem_description} />\r\n              <ConfirmRow\r\n                label=\"Priorit√©\"\r\n                value={PRIORITY_LABELS[form.priority]}\r\n              />\r\n              <ConfirmRow label=\"Emplacement\" value={form.location} />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Navigation buttons */}\r\n        <div className=\"flex items-center justify-between mt-8 pt-5 border-t border-gray-100\">\r\n          {step > 1 ? (\r\n            <button\r\n              onClick={prevStep}\r\n              className=\"px-5 py-2.5 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\r\n            >\r\n              ‚Üê Pr√©c√©dent\r\n            </button>\r\n          ) : (\r\n            <div />\r\n          )}\r\n\r\n          {step < 4 ? (\r\n            <button\r\n              onClick={nextStep}\r\n              className=\"px-6 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors\"\r\n            >\r\n              Suivant ‚Üí\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={handleSubmit}\r\n              disabled={submitting}\r\n              className=\"px-6 py-2.5 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n            >\r\n              {submitting ? (\r\n                <>\r\n                  <span className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                  Cr√©ation...\r\n                </>\r\n              ) : (\r\n                \"‚úì Cr√©er le ticket\"\r\n              )}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FormField({ label, error, children }) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n        {label}\r\n      </label>\r\n      {children}\r\n      {error && <p className=\"mt-1 text-sm text-red-600\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ConfirmRow({ label, value }) {\r\n  return (\r\n    <div className=\"flex flex-col sm:flex-row sm:items-start gap-1 sm:gap-4\">\r\n      <span className=\"text-sm font-medium text-gray-500 sm:w-28 flex-shrink-0\">\r\n        {label}\r\n      </span>\r\n      <span className=\"text-sm text-gray-900 flex-1\">{value}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction inputClass(hasError) {\r\n  return `w-full px-3.5 py-2.5 rounded-lg border text-sm transition-colors outline-none\r\n    ${\r\n      hasError\r\n        ? \"border-red-300 focus:border-red-500 focus:ring-2 focus:ring-red-100\"\r\n        : \"border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\r\n    }`;\r\n}\r\n"],"names":[],"mappings":"uCAIO,IAAM,EAAW,CACtB,WACA,aACA,cACA,YACA,YACD,CAgKM,SAAS,EAAW,CAAO,SAChC,AAAK,EACE,EADH,EACO,GADG,EACE,GAAS,kBAAkB,CAAC,QAAS,CACnD,IAAK,UACL,MAAO,UACP,KAAM,UACN,KAAM,UACN,OAAQ,SACV,GAPqB,GAQvB,CAEO,SAAS,EAAe,CAAM,SACnC,MAAI,EAAgD,IAC7C,IAAI,CADI,IACC,IADO,QACK,CAAC,EADK,MACI,CACpC,IAF2C,EAEpC,WACP,SAAU,MACV,sBAAuB,CACzB,GAAG,MAAM,CAAC,EACZ,CAEO,SAAS,EAAc,CAAM,EAClC,OAAO,EAAS,OAAO,CAAC,EAC1B,CAEO,SAAS,EAAc,CAAK,EACjC,IAAM,EAAU,EAAM,OAAO,CAAC,YAAa,IAC3C,MAAO,mBAAmB,IAAI,CAAC,EACjC,iBAtDsB,CACpB,KACA,OACA,SACA,OACA,UACA,QACA,QACA,QACA,UACA,UACA,QACA,QACA,UACA,SACA,UACA,SACD,gBAxGyB,CACxB,4BACA,mBACA,+BACA,sBACA,UACA,cACA,SACA,aACA,aACA,UACA,QACA,SACA,QACD,qBAG8B,CAC7B,CACE,MAAO,aACP,KAAM,MACN,MAAO,CACL,4BACA,mBACA,+BACA,sBACA,UACA,cACD,AACH,EACA,CACE,MAAO,eACP,KAAM,KACN,MAAO,CAAC,SAAU,aAAc,aAAc,UAAW,QAAS,SAAS,AAC7E,EACD,oBAkB6B,CAC5B,4BAA6B,UAC7B,mBAAoB,UACpB,+BAAgC,UAChC,sBAAuB,UACvB,UAAW,UACX,YAAa,UACb,OAAQ,SACR,aAAc,SACd,aAAc,SACd,QAAS,SACT,MAAO,SACP,OAAQ,SACR,MAAO,QACT,sBA9B+B,CAC7B,4BAA6B,4BAC7B,mBAAoB,8BACpB,+BAAgC,+BAChC,sBAAuB,iCACvB,UAAW,gCACX,YAAa,cACb,OAAQ,SACR,aAAc,aACd,aAAc,aACd,QAAS,UACT,MAAO,QACP,OAAQ,SACR,MAAO,OACT,0BAmBmC,CACjC,SACA,aACA,aACA,UACD,uBAEgC,CAC/B,2BACA,0BACA,eACA,gBACA,oBACA,cACA,6CACD,gBArGyB,CAAC,MAAO,SAAU,OAAQ,SAAS,qBAS9B,CAC7B,IAAK,CAAE,GAAI,eAAgB,KAAM,gBAAiB,EAClD,OAAQ,CAAE,GAAI,aAAc,KAAM,eAAgB,EAClD,KAAM,CAAE,GAAI,gBAAiB,KAAM,iBAAkB,EACrD,OAAQ,CAAE,GAAI,aAAc,KAAM,cAAe,CACnD,sBAZ+B,CAC7B,IAAK,QACL,OAAQ,UACR,KAAM,QACN,OAAQ,SACV,mCA3B6B,CAC3B,SAAU,CAAE,GAAI,aAAc,KAAM,eAAgB,IAAK,YAAa,EACtE,WAAY,CACV,GAAI,eACJ,KAAM,iBACN,IAAK,cACP,EACA,cAAe,CACb,GAAI,cACJ,KAAM,gBACN,IAAK,aACP,EACA,UAAW,CACT,GAAI,eACJ,KAAM,iBACN,IAAK,cACP,EACA,UAAW,CAAE,GAAI,cAAe,KAAM,gBAAiB,IAAK,aAAc,CAC5E,oBA1B6B,CAC3B,SAAU,OACV,WAAY,aACZ,cAAe,WACf,UAAW,UACX,UAAW,OACb,kBAgJ2B,CACzB,SAAU,CAAC,aAAa,CACxB,WAAY,CAAC,cAAe,WAAY,YAAY,CACpD,cAAe,CAAC,YAAa,aAAa,CAC1C,UAAW,CAAC,YAAa,cAAc,CACvC,UAAW,EAAE,AACf,mICtKA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAQA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOe,SAAS,EAAW,MACjC,CAAI,aACJ,CAAW,QACX,CAAM,IACN,CAAE,gBACF,CAAc,mBACd,CAAiB,CACjB,aAAW,CACX,gBAAc,CACf,EACC,GAAM,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAK,KAAK,EAAI,IACrD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAE,EAC3C,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACzC,EAAiB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,MACxB,EAAc,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,MAErB,EAA6C,cAA3B,EAAK,iBAAiB,CACxC,EAA8B,cAAf,EAAK,KAAK,CAG/B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,SAAS,EAAY,CAAC,EAElB,EAAe,OAAO,EACtB,CAAC,EAAe,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM,GACzC,AACA,GAAmB,EAEvB,CAEA,OADA,SAAS,gBAAgB,CAAC,YAAa,GAChC,IAAM,SAAS,mBAAmB,CAAC,YAAa,EACzD,EAAG,EAAE,EAGL,IAAM,EAAmB,CAAA,EAAA,EAAA,WAAA,AAAW,EAClC,MAAO,IACL,GAAI,EAAE,MAAM,CAAG,EAAG,YAChB,EAAe,EAAE,EAGnB,GAAI,CACF,IAAM,EACuB,cAA3B,EAAK,iBAAiB,CAClB,EACA,EAAK,iBAAiB,CACtB,EAAU,MAAM,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,EAAG,GAC7C,EAAe,GACf,EAAmB,EAAQ,MAAM,CAAG,EACtC,CAAE,KAAM,CACN,EAAe,EAAE,CACnB,CACF,EACA,CAAC,EAAK,iBAAiB,CAAE,EAAe,EA+B1C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,6BAKzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,gBAG/D,EAAO,iBAAiB,EACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCACV,EAAO,iBAAiB,GAI7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAA,eAAe,CAAC,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,wGACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAM,IAAI,GAAQ,IAAE,EAAM,KAAK,IAExC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAM,KAAK,CAAC,GAAG,CAAC,AAAC,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,KACP,EAAY,oBAAqB,GACjC,EAAkB,GACpB,EACA,UAAW,CAAC;sBACV,EACE,EAAK,iBAAiB,GAAK,EACvB,2CACA,sDAAA,CACJ,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6GACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,EAAA,cAAc,CAAC,EAAI,CAAE,UAAU,cAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gFACb,EAAA,eAAe,CAAC,EAAI,KAjBlB,QAPH,EAAM,KAAK,GAiCvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,EAAY,oBAAqB,aAChD,UAAW,CAAC;gBACV,EACE,EACI,2CACA,oEAAA,CACJ,UAEJ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0DACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,SAAS,UAAU,YAAY,0BAI7C,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAkB,EAAE,MAAM,CAAC,KAAK,EACjD,YAAY,yBACZ,UAAW,CAAC,KAAK,EAAE,IAAA,CAAM,CACzB,SAAS,CAAA,CAAA,aAQnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,aAG/D,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,KAAK,GAExD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,EAAA,MAAM,CAAC,GAAG,CAAC,AAAC,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,KACP,EAAY,QAAS,GACrB,EAAe,GACjB,EACA,UAAW,CAAC;gBACV,EACE,EAAK,KAAK,GAAK,EACX,2CACA,sDAAA,CACJ,UAEH,GAbI,IAgBT,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,EAAY,QAAS,aACpC,UAAW,CAAC;cACV,EACE,EACI,2CACA,oEAAA,CACJ,UACL,gBAIF,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,YAAY,sBACZ,UAAW,CAAC,KAAK,EAAE,IAAA,CAAM,CACzB,SAAS,CAAA,CAAA,OAMf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,0DAAiD,cAGlE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAK,SAAS,EAAI,GACzB,SAAU,AAAC,GAAM,EAAY,YAAa,EAAE,MAAM,CAAC,KAAK,EACxD,YAAY,yBACZ,UAAW,SAKf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,WAAW,IAAK,YAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,0DAAiD,WAGlE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,IAAM,MAvLvB,EADyB,EAwLgB,EAAE,CAxLb,KAwLmB,CAAC,CAvLpC,IAuLyC,EAtLvD,EAAY,QAAS,GAErB,aAAa,EAAY,OAAO,EAChC,EAAY,OAAO,CAAG,WAAW,IAAM,EAAiB,GAAQ,MAoL1D,QAAS,IAAM,EAAY,MAAM,CAAG,GAAK,GAAmB,GAC5D,YAAY,mCACZ,UAAW,IACX,aAAa,QAGd,GAAmB,EAAY,MAAM,CAAG,GACvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oKACZ,EAAY,GAAG,CAAC,CAAC,EAAG,IACnB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAM,CA5LvB,AA4LsC,EA5LpC,KAAK,EAAE,EAAY,QAAS,EAAE,KAAK,EACrC,EAAE,KAAK,EAAE,CACX,EAAY,QAAS,EAAE,KAAK,EAC5B,EAAc,EAAE,KAAK,GAEvB,GAAmB,IAwLP,UAAU,0IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,SAAS,UAAU,cAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCACb,EAAE,KAAK,CAAC,IAAE,EAAE,KAAK,MATf,SAkBf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mFAAyE,kBAExF,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sEACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,cACV,KAAK,OACL,OAAO,eACP,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,kRAEA,6BAIV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAK,aAAa,CACzB,SAAU,AAAC,GAAM,EAAY,gBAAiB,EAAE,MAAM,CAAC,KAAK,EAC5D,QAAS,IAAM,GAAe,GAC9B,OAAQ,IAAM,GAAe,GAC7B,YAAY,yCACZ,UAAW,CAAA,EAAG,IAAK,CAAC,EAAE,EAAc,gDAAkD,GAAA,CAAI,CAC1F,aAAa,QAEd,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+BAAsB,8BAOpD,CAMO,SAAS,EAAgB,CAAI,CAAE,CAAc,QAClD,AAA+B,aAAa,CAAxC,EAAK,iBAAiB,CAAyB,GAAkB,QAC9D,EAAK,iBAAiB,AAC/B,CAKO,SAAS,EAAa,CAAI,CAAE,CAAW,QAC5C,AAAmB,aAAa,CAA5B,EAAK,KAAK,CAAyB,GAAe,GAC/C,EAAK,KAAK,AACnB,CAKO,SAAS,EAAY,MAAE,CAAI,CAAE,aAAW,QAAE,CAAM,IAAE,CAAE,CAAE,EAC3D,IAAM,EAAa,EAAA,mBAAmB,CAAC,QAAQ,CAAC,EAAK,iBAAiB,EAChE,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAE,EACrD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SAG3C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,EAAY,CACd,IAAM,EAAQ,IAAI,EAAiB,AAC/B,GAAc,IAAI,IAAI,EAAM,IAAI,CAAC,EAAc,IAAI,IACvD,EAAY,sBAAuB,EAAM,IAAI,CAAC,MAChD,CAEF,EAAG,CAAC,EAAkB,EAAe,EAAW,EAS9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,4BAIxD,EACC,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,yDAA+C,kBAC9C,IAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAoC,4BAIrD,EAAO,mBAAmB,EACzB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCACV,EAAO,mBAAmB,GAG/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACZ,EAAA,iBAAiB,CAAC,GAAG,CAAC,AAAC,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAM,CA9B7B,EAAqB,AAAD,GAClB,EAAK,QAAQ,CAAC,GAAK,EAAK,MAAM,CAAE,AAAD,GAAO,MAAM,CAAK,IAAI,EA6BZ,EA7BoB,GA8BjD,UAAW,CAAC;oBACV,EACE,EAAiB,QAAQ,CAAC,GACtB,2CACA,sDAAA,CACJ,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC;sBACV,EACE,EAAiB,QAAQ,CAAC,GACtB,yCACA,kBAAA,CACJ,UAEH,EAAiB,QAAQ,CAAC,IAAM,MAElC,IApBI,IAyBT,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,EAAa,CAAC,GAC7B,UAAW,CAAC;kBACV,EACE,EACI,2CACA,oEAAA,CACJ,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC;oBACV,EAAE,EAAY,yCAA2C,kBAAA,CAAmB,UAE7E,GAAa,MACT,6BAIV,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAiB,EAAE,MAAM,CAAC,KAAK,EAChD,KAAM,EACN,YAAY,0BACZ,UAAW,CAAC,KAAK,EAAE,IAAA,CAAM,CACzB,SAAS,CAAA,CAAA,SAMjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,0DAAiD,8BAGjE,EAAO,mBAAmB,EACzB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCACV,EAAO,mBAAmB,GAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EAAK,mBAAmB,CAC/B,SAAU,AAAC,GAAM,EAAY,sBAAuB,EAAE,MAAM,CAAC,KAAK,EAClE,KAAM,EACN,YAAY,oCACZ,UAAW,EAAG,EAAO,mBAAmB,SAMpD,kICvdA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAMA,IAAM,EAAQ,CACZ,CAAE,GAAI,EAAG,MAAO,SAAU,YAAa,wBAAyB,EAChE,CAAE,GAAI,EAAG,MAAO,WAAY,YAAa,qBAAsB,EAC/D,CAAE,GAAI,EAAG,MAAO,WAAY,YAAa,yBAA0B,EACnE,CAAE,GAAI,EAAG,MAAO,eAAgB,YAAa,0BAA2B,EACzE,CAEK,EAAe,CACnB,YAAa,GACb,aAAc,GACd,aAAc,GACd,kBAAmB,GACnB,MAAO,GACP,MAAO,GACP,UAAW,GACX,cAAe,GACf,oBAAqB,GACrB,SAAU,SACV,SAAU,WACZ,EAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC3B,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC3B,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAC,GAChC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACvC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MACjC,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAE/C,SAAS,EAAY,CAAK,CAAE,CAAK,EAC/B,EAAQ,AAAC,IAAU,CAAE,EAAH,CAAM,CAAI,CAAE,CAAC,EAAM,CAAE,EAAM,CAAC,EAC1C,CAAM,CAAC,EAAM,EAAE,AACjB,EAAU,AAAC,IACT,IAAM,EAAO,CAAE,GAAG,CAAI,AAAC,EAEvB,OADA,OAAO,CAAI,CAAC,EAAM,CACX,CACT,EAEJ,CAEA,SAAS,EAAa,CAAO,EAC3B,IAAM,EAAO,CAAC,EA8Bd,OA5BgB,GAAG,CAAf,IACE,AAAC,EAAK,WAAW,CAAC,IAAI,KAAI,EAAK,WAAW,CAAG,wBAAA,EAC5C,EAAK,YAAY,CAAC,IAAI,GAElB,AAAC,CAAA,EAAA,EAAA,aAAa,AAAb,EAAc,EAAK,YAAY,IACvC,EAAK,YAAY,CAAG,+CAAA,EAFpB,EAAK,YAAY,CAAG,+BAIpB,EAAK,YAAY,EACjB,CAAC,6BAA6B,IAAI,CAAC,EAAK,YAAY,GACpD,CACA,EAAK,YAAY,CAAG,gBAAA,GAGR,GAAG,CAAf,IACE,AAAC,EAAK,iBAAiB,GACzB,EAAK,iBAAiB,CAAG,8BAAA,EACI,cAA3B,CAA0C,CAArC,iBAAiB,EAAqB,EAAe,IAAI,KAChE,EAAK,iBAAiB,CAAG,8BAAA,EACvB,AAAC,EAAK,KAAK,GAAE,EAAK,KAAK,CAAG,2BAAA,EAC1B,AAAe,eAAe,CAAzB,KAAK,EAAqB,EAAY,IAAI,KACjD,EAAK,KAAK,CAAG,2BAAA,GAED,GAAG,CAAf,GACG,EAAK,mBAAmB,CAAC,IAAI,KAChC,EAAK,mBAAmB,CAAG,4CAAA,EAG/B,EAAU,GAC0B,IAA7B,OAAO,IAAI,CAAC,GAAM,MAC3B,AADiC,CAajC,eAAe,IACb,GAAI,CAAC,EAAa,GAAI,YACpB,EAAQ,GAIV,GAAc,GACd,GAAI,CACF,IAAM,EAAU,CACd,GAAG,CAAI,CACP,kBAAmB,CAAA,EAAA,EAAA,eAAe,AAAf,EAAgB,EAAM,GACzC,MAAO,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,EAAM,EAC5B,EACM,EAAS,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,GAClC,EAAW,EACb,CAAE,MAAO,EAAK,CACZ,EAAU,CAAE,OAAQ,EAAI,OAAO,AAAC,EAClC,QAAU,CACR,GAAc,EAChB,CACF,QAGA,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,CAET,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,yBACV,KAAK,OACL,OAAO,eACP,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,uBAIR,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,8BAGrD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BAAqB,YACtB,IACV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iDACb,EAAQ,SAAS,GACZ,IAAI,uBAId,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAa,CAAA,CAAC,SAAU,EAAQ,SAAS,CAAE,KAAM,MAElD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAkC,2DAI/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,CAAC,SAAS,EAAE,EAAQ,SAAS,CAAA,CAAE,EAC1D,UAAU,+FACX,mBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,EAAW,MACX,EAAQ,GACR,EAAQ,GACR,EAAkB,IAClB,EAAe,GACjB,EACA,UAAU,kGACX,2BAUT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,mBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,sDAM5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,EAAM,GAAG,CAAC,CAAC,EAAG,IACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,uDAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC;kBACV,EACE,EAAO,EAAE,EAAE,CACP,yCACA,IAAS,EAAE,EAAE,CACX,2CACA,4CAAA,CACN,UAEH,EAAO,EAAE,EAAE,CAAG,IAAM,EAAE,EAAE,GAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC;gBACZ,EAAE,GAAQ,EAAE,EAAE,CAAG,gBAAkB,gBAAA,CAAiB,UAEnD,EAAE,KAAK,MAGX,EAAI,EAAM,MAAM,CAAG,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,kBAAkB,EAAE,EAAO,EAAE,EAAE,CAAG,cAAgB,cAAA,CAAe,KAzB5E,EAAE,EAAE,KAiCf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6EACZ,EAAO,MAAM,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oFACZ,EAAO,MAAM,GAKR,IAAT,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,2BAIzD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,gBAAgB,MAAO,EAAO,WAAW,UACxD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAK,WAAW,CACvB,SAAU,AAAC,GAAM,EAAY,cAAe,EAAE,MAAM,CAAC,KAAK,EAC1D,YAAY,qBACZ,UAAW,EAAW,EAAO,WAAW,MAI5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,cAAc,MAAO,EAAO,YAAY,UACvD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,MACL,MAAO,EAAK,YAAY,CACxB,SAAU,AAAC,GAAM,EAAY,eAAgB,EAAE,MAAM,CAAC,KAAK,EAC3D,YAAY,oBACZ,UAAW,EAAW,EAAO,YAAY,MAI7C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,QAAQ,MAAO,EAAO,YAAY,UACjD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,MAAO,EAAK,YAAY,CACxB,SAAW,AAAD,GAAO,EAAY,eAAgB,EAAE,MAAM,CAAC,KAAK,EAC3D,YAAY,mCACZ,UAAW,EAAW,EAAO,YAAY,SAOvC,IAAT,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAU,CAAA,CACT,KAAM,EACN,YAAa,EACb,OAAQ,EACR,GAAI,EACJ,eAAgB,EAChB,kBAAmB,EACnB,YAAa,EACb,eAAgB,IAKnB,AAAS,OACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CACV,KAAM,EACN,YAAa,EACb,OAAQ,EACR,GAAI,IAGN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,oBACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAA,UAAU,CAAC,GAAG,CAAC,AAAC,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAM,EAAY,WAAY,GACvC,UAAW,CAAC;sBACV,EACE,EAAK,QAAQ,GAAK,EACd,2CACA,sDAAA,CACJ,UAEH,EAAA,eAAe,CAAC,EAAE,EAVd,QAgBb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,uBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAK,QAAQ,CACpB,SAAU,AAAC,GAAM,EAAY,WAAY,EAAE,MAAM,CAAC,KAAK,EACvD,YAAY,uCACZ,UAAW,WAOlB,AAAS,OACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,iBAIzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,MAAM,SAAS,MAAO,EAAK,WAAW,GAClD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,MAAM,YAAY,MAAO,EAAK,YAAY,GACrD,EAAK,YAAY,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,MAAM,QAAQ,MAAO,EAAK,YAAY,GAEpD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,MAAM,YACN,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oCACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KACE,EAAA,cAAc,CAAC,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAM,GAAgB,CAEvD,UAAU,2BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UACE,EAAA,eAAe,CAAC,CAAA,EAAA,EAAA,eAAe,AAAf,EAAgB,EAAM,GAAgB,EACrD,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAM,UAKhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,MAAM,SACN,MAAO,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,EAAM,IAAgB,MAE3C,EAAK,SAAS,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,MAAM,YAAY,MAAO,EAAK,SAAS,GAEpD,EAAK,KAAK,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,MAAM,SAAS,MAAO,EAAK,KAAK,GAC1D,EAAK,aAAa,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,MAAM,cAAc,MAAO,EAAK,aAAa,GAE3D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,MAAM,WAAW,MAAO,EAAK,mBAAmB,GAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,MAAM,WACN,MAAO,EAAA,eAAe,CAAC,EAAK,QAAQ,CAAC,GAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,MAAM,cAAc,MAAO,EAAK,QAAQ,SAM1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iFACZ,EAAO,EACN,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAtSZ,CAsSqB,QAtSZ,EACP,EAAQ,AAAC,GAAM,KAAK,GAAG,CAAC,EAAI,EAAG,GACjC,EAqSY,UAAU,oHACX,gBAID,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAA,GAGF,EAAO,EACN,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAvTZ,CAuTqB,QAvTZ,EACH,EAAa,IACf,EAAS,AAAD,CADc,EACP,KAAK,GAAG,CAAC,EAAI,EAAG,GAEnC,EAoTY,UAAU,iHACX,cAID,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,2LAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8EAA8E,iBAIhG,8BAQhB,CAEA,SAAS,EAAU,OAAE,CAAK,CAAE,OAAK,UAAE,CAAQ,CAAE,EAC3C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,0DACd,IAEF,EACA,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,MAG1D,CAEA,SAAS,EAAW,OAAE,CAAK,OAAE,CAAK,CAAE,EAClC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mEACb,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAgC,MAGtD,CAEA,SAAS,EAAW,CAAQ,EAC1B,MAAO,CAAC;IACN,EACE,EACI,sEACA,yEAAA,CACJ,AACN"}