{"version":3,"sources":["../../../../../sav-gestion-client/src/app/%28admin%29/tickets/%5Bid%5D/TicketDetailClient.js","../../../../../sav-gestion-client/src/components/Invoice.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport {\r\n  getTicket,\r\n  updateTicket,\r\n  updateTicketStatus,\r\n  deleteTicket,\r\n  archiveTicket,\r\n} from \"@/lib/api\";\r\nimport StatusBadge from \"@/components/StatusBadge\";\r\nimport PriorityBadge from \"@/components/PriorityBadge\";\r\nimport StatusTimeline from \"@/components/StatusTimeline\";\r\nimport QRCodeDisplay from \"@/components/QRCodeDisplay\";\r\nimport LoadingSpinner from \"@/components/LoadingSpinner\";\r\nimport Invoice from \"@/components/Invoice\";\r\nimport { useAuth } from \"@/components/AuthProvider\";\r\nimport Icon from \"@/components/Icons\";\r\nimport { useToast, useConfirm } from \"@/components/ToastProvider\";\r\nimport {\r\n  CATEGORY_ICONS,\r\n  CATEGORY_LABELS,\r\n  STATUS_LABELS,\r\n  TRANSITIONS,\r\n  formatDate,\r\n  formatCurrency,\r\n  CATEGORIES,\r\n  PRIORITIES,\r\n  PRIORITY_LABELS,\r\n  validatePhone,\r\n} from \"@/lib/utils\";\r\n\r\nexport default function TicketDetailPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const ticketId = params.id;\r\n\r\n  const [ticket, setTicket] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(false);\r\n  const [editForm, setEditForm] = useState({});\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showInvoice, setShowInvoice] = useState(false);\r\n  const { user } = useAuth();\r\n\r\n  const showToast = useToast();\r\n  const confirm = useConfirm();\r\n\r\n  useEffect(() => {\r\n    loadTicket();\r\n  }, [ticketId]);\r\n\r\n  async function loadTicket() {\r\n    setLoading(true);\r\n    try {\r\n      const data = await getTicket(ticketId);\r\n      setTicket(data);\r\n      setEditForm(data);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleStatusChange(newStatus) {\r\n    try {\r\n      const result = await updateTicketStatus(ticketId, { status: newStatus });\r\n      setTicket(result);\r\n    } catch (err) {\r\n      showToast({ type: \"error\", message: err.data?.error || err.message });\r\n    }\r\n  }\r\n\r\n  async function handleSave() {\r\n    setSaving(true);\r\n    try {\r\n      const result = await updateTicket(ticketId, editForm);\r\n      setTicket(result);\r\n      setEditing(false);\r\n      showToast({ type: \"success\", message: \"Modifications enregistr√©es.\" });\r\n    } catch (err) {\r\n      showToast({\r\n        type: \"error\",\r\n        message: err.data?.errors?.join(\"\\n\") || err.message,\r\n      });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  async function handleDelete() {\r\n    if (\r\n      !(await confirm({\r\n        title: \"Supprimer le ticket\",\r\n        message: \"√ätes-vous s√ªr de vouloir supprimer ce ticket ?\",\r\n        confirmText: \"Supprimer\",\r\n        cancelText: \"Annuler\",\r\n        danger: true,\r\n      }))\r\n    )\r\n      return;\r\n    try {\r\n      await deleteTicket(ticketId);\r\n      showToast({ type: \"success\", message: \"Ticket supprim√©.\" });\r\n      router.push(\"/tickets\");\r\n    } catch (err) {\r\n      showToast({\r\n        type: \"error\",\r\n        message: err.message || \"Erreur lors de la suppression\",\r\n      });\r\n    }\r\n  }\r\n\r\n  async function handleArchive() {\r\n    if (\r\n      !(await confirm({\r\n        title: \"Archiver le ticket\",\r\n        message: \"Archiver ce ticket ?\",\r\n        confirmText: \"Archiver\",\r\n        cancelText: \"Annuler\",\r\n      }))\r\n    )\r\n      return;\r\n    try {\r\n      await archiveTicket(ticketId);\r\n      showToast({ type: \"success\", message: \"Ticket archiv√©.\" });\r\n      router.push(\"/tickets\");\r\n    } catch (err) {\r\n      showToast({\r\n        type: \"error\",\r\n        message: err.message || \"Erreur lors de l'archivage\",\r\n      });\r\n    }\r\n  }\r\n\r\n  if (loading) return <LoadingSpinner message=\"Chargement du ticket...\" />;\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-16\">\r\n        <p className=\"text-red-500 mb-4\">{error}</p>\r\n        <Link href=\"/tickets\" className=\"text-blue-600 hover:underline text-sm\">\r\n          ‚Üê Retour aux tickets\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const nextStatuses = TRANSITIONS[ticket.status] || [];\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto space-y-6\">\r\n      {showInvoice && (\r\n        <Invoice ticket={ticket} onClose={() => setShowInvoice(false)} />\r\n      )}\r\n      {/* Back + Header */}\r\n      <div>\r\n        <Link\r\n          href=\"/tickets\"\r\n          className=\"text-sm text-gray-500 hover:text-blue-600 flex items-center gap-1 mb-3\"\r\n        >\r\n          <svg\r\n            className=\"w-4 h-4\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M15 19l-7-7 7-7\"\r\n            />\r\n          </svg>\r\n          Retour aux tickets\r\n        </Link>\r\n\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900 font-mono\">\r\n              {ticket.ticket_id}\r\n            </h1>\r\n            <StatusBadge status={ticket.status} size=\"lg\" />\r\n            <PriorityBadge priority={ticket.priority} />\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            {!editing && (\r\n              <>\r\n                {user?.role === \"admin\" && (\r\n                  <button\r\n                    onClick={() => setShowInvoice(true)}\r\n                    className=\"px-3 py-2 text-sm bg-emerald-50 text-emerald-700 rounded-lg hover:bg-emerald-100 font-medium\"\r\n                  >\r\n                    üßæ Facture\r\n                  </button>\r\n                )}\r\n                <button\r\n                  onClick={() => setEditing(true)}\r\n                  className=\"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium inline-flex items-center gap-2\"\r\n                >\r\n                  <Icon name=\"pencil\" className=\"w-4 h-4 text-gray-600\" />\r\n                  Modifier\r\n                </button>\r\n              </>\r\n            )}\r\n            {ticket.status === \"Delivered\" && (\r\n              <button\r\n                onClick={handleArchive}\r\n                className=\"px-3 py-2 text-sm bg-amber-50 text-amber-700 rounded-lg hover:bg-amber-100 font-medium\"\r\n              >\r\n                üóÑÔ∏è Archiver\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"px-3 py-2 text-sm bg-red-50 text-red-600 rounded-lg hover:bg-red-100 font-medium inline-flex items-center gap-2\"\r\n            >\r\n              <Icon name=\"trash\" className=\"w-4 h-4 text-red-600\" />\r\n              Supprimer\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status Timeline */}\r\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-5\">\r\n        <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4\">\r\n          Progression\r\n        </h3>\r\n        <StatusTimeline currentStatus={ticket.status} />\r\n\r\n        {/* Quick status change */}\r\n        {nextStatuses.length > 0 && (\r\n          <div className=\"mt-4 pt-4 border-t border-gray-100 flex flex-wrap gap-2\">\r\n            <span className=\"text-sm text-gray-500 mr-2 self-center\">\r\n              Passer √† :\r\n            </span>\r\n            {nextStatuses.map((s) => (\r\n              <button\r\n                key={s}\r\n                onClick={() => handleStatusChange(s)}\r\n                className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n                  s === \"Completed\" && ticket.status === \"Diagnostic\"\r\n                    ? \"bg-green-600 text-white hover:bg-green-700\"\r\n                    : \"bg-blue-600 text-white hover:bg-blue-700\"\r\n                }`}\r\n              >\r\n                {STATUS_LABELS[s]}\r\n                {s === \"Completed\" && ticket.status === \"Diagnostic\" && \" ‚ö°\"}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Main content: details + QR code */}\r\n      <div className=\"grid lg:grid-cols-3 gap-6\">\r\n        {/* Details */}\r\n        <div className=\"lg:col-span-2 space-y-6\">\r\n          {editing ? (\r\n            /* Edit Form */\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-4\">\r\n              <h3 className=\"font-semibold text-gray-900\">\r\n                Modifier le ticket\r\n              </h3>\r\n\r\n              <div className=\"grid sm:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                    Nom client *\r\n                  </label>\r\n                  <input\r\n                    value={editForm.client_name || \"\"}\r\n                    onChange={(e) =>\r\n                      setEditForm({ ...editForm, client_name: e.target.value })\r\n                    }\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                    T√©l√©phone *\r\n                  </label>\r\n                  <input\r\n                    value={editForm.client_phone || \"\"}\r\n                    onChange={(e) =>\r\n                      setEditForm({ ...editForm, client_phone: e.target.value })\r\n                    }\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                  Email\r\n                </label>\r\n                <input\r\n                  value={editForm.client_email || \"\"}\r\n                  onChange={(e) =>\r\n                    setEditForm({ ...editForm, client_email: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid sm:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                    Cat√©gorie *\r\n                  </label>\r\n                  <select\r\n                    value={editForm.hardware_category || \"\"}\r\n                    onChange={(e) =>\r\n                      setEditForm({\r\n                        ...editForm,\r\n                        hardware_category: e.target.value,\r\n                      })\r\n                    }\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500 bg-white\"\r\n                  >\r\n                    {CATEGORIES.map((c) => (\r\n                      <option key={c} value={c}>\r\n                        {CATEGORY_LABELS[c]}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                    Marque\r\n                  </label>\r\n                  <input\r\n                    value={editForm.brand || \"\"}\r\n                    onChange={(e) =>\r\n                      setEditForm({ ...editForm, brand: e.target.value })\r\n                    }\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                    Mod√®le\r\n                  </label>\r\n                  <input\r\n                    value={editForm.model || \"\"}\r\n                    onChange={(e) =>\r\n                      setEditForm({ ...editForm, model: e.target.value })\r\n                    }\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                  Description du probl√®me *\r\n                </label>\r\n                <textarea\r\n                  value={editForm.problem_description || \"\"}\r\n                  onChange={(e) =>\r\n                    setEditForm({\r\n                      ...editForm,\r\n                      problem_description: e.target.value,\r\n                    })\r\n                  }\r\n                  rows={3}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                  Notes diagnostic\r\n                </label>\r\n                <textarea\r\n                  value={editForm.diagnostic_notes || \"\"}\r\n                  onChange={(e) =>\r\n                    setEditForm({\r\n                      ...editForm,\r\n                      diagnostic_notes: e.target.value,\r\n                    })\r\n                  }\r\n                  rows={2}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                  Notes technicien\r\n                </label>\r\n                <textarea\r\n                  value={editForm.technician_notes || \"\"}\r\n                  onChange={(e) =>\r\n                    setEditForm({\r\n                      ...editForm,\r\n                      technician_notes: e.target.value,\r\n                    })\r\n                  }\r\n                  rows={2}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid sm:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                    Co√ªt estim√©\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={editForm.estimated_cost || \"\"}\r\n                    onChange={(e) =>\r\n                      setEditForm({\r\n                        ...editForm,\r\n                        estimated_cost: e.target.value || null,\r\n                      })\r\n                    }\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                    Co√ªt final\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={editForm.final_cost || \"\"}\r\n                    onChange={(e) =>\r\n                      setEditForm({\r\n                        ...editForm,\r\n                        final_cost: e.target.value || null,\r\n                      })\r\n                    }\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                    Priorit√©\r\n                  </label>\r\n                  <select\r\n                    value={editForm.priority || \"Normal\"}\r\n                    onChange={(e) =>\r\n                      setEditForm({ ...editForm, priority: e.target.value })\r\n                    }\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500 bg-white\"\r\n                  >\r\n                    {PRIORITIES.map((p) => (\r\n                      <option key={p} value={p}>\r\n                        {PRIORITY_LABELS[p]}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n                  Emplacement\r\n                </label>\r\n                <input\r\n                  value={editForm.location || \"\"}\r\n                  onChange={(e) =>\r\n                    setEditForm({ ...editForm, location: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-3 pt-3 border-t border-gray-100\">\r\n                <button\r\n                  onClick={handleSave}\r\n                  disabled={saving}\r\n                  className=\"px-5 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50\"\r\n                >\r\n                  {saving ? \"Enregistrement...\" : \"Enregistrer\"}\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setEditing(false);\r\n                    setEditForm(ticket);\r\n                  }}\r\n                  className=\"px-5 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200\"\r\n                >\r\n                  Annuler\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            /* Read-only Details */\r\n            <>\r\n              {/* Client info */}\r\n              <DetailCard title=\"Informations client\">\r\n                <DetailRow label=\"Nom\" value={ticket.client_name} />\r\n                <DetailRow label=\"T√©l√©phone\" value={ticket.client_phone} />\r\n                <DetailRow label=\"Email\" value={ticket.client_email || \"‚Äî\"} />\r\n              </DetailCard>\r\n\r\n              {/* Hardware info */}\r\n              <DetailCard title=\"Mat√©riel\">\r\n                <DetailRow\r\n                  label=\"Cat√©gorie\"\r\n                  value={\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <Icon\r\n                        name={CATEGORY_ICONS[ticket.hardware_category]}\r\n                        className=\"w-5 h-5 text-slate-600\"\r\n                      />\r\n                      <span>{CATEGORY_LABELS[ticket.hardware_category]}</span>\r\n                    </span>\r\n                  }\r\n                />\r\n                <DetailRow label=\"Marque\" value={ticket.brand || \"‚Äî\"} />\r\n                <DetailRow label=\"Mod√®le\" value={ticket.model || \"‚Äî\"} />\r\n                <DetailRow\r\n                  label=\"N¬∞ de s√©rie\"\r\n                  value={ticket.serial_number || \"‚Äî\"}\r\n                />\r\n                <DetailRow label=\"Emplacement\" value={ticket.location || \"‚Äî\"} />\r\n              </DetailCard>\r\n\r\n              {/* Problem / Notes */}\r\n              <DetailCard title=\"Probl√®me & Notes\">\r\n                <DetailRow\r\n                  label=\"Description\"\r\n                  value={ticket.problem_description}\r\n                />\r\n                <DetailRow\r\n                  label=\"Diagnostic\"\r\n                  value={ticket.diagnostic_notes || \"‚Äî\"}\r\n                />\r\n                <DetailRow\r\n                  label=\"Notes technicien\"\r\n                  value={ticket.technician_notes || \"‚Äî\"}\r\n                />\r\n              </DetailCard>\r\n\r\n              {/* Costs & Dates */}\r\n              <DetailCard title=\"Co√ªts & Dates\">\r\n                <DetailRow\r\n                  label=\"Co√ªt estim√©\"\r\n                  value={formatCurrency(ticket.estimated_cost)}\r\n                />\r\n                <DetailRow\r\n                  label=\"Co√ªt final\"\r\n                  value={formatCurrency(ticket.final_cost)}\r\n                />\r\n                <DetailRow\r\n                  label=\"Cr√©√© le\"\r\n                  value={formatDate(ticket.created_at)}\r\n                />\r\n                <DetailRow\r\n                  label=\"Mis √† jour\"\r\n                  value={formatDate(ticket.updated_at)}\r\n                />\r\n                {ticket.delivered_at && (\r\n                  <DetailRow\r\n                    label=\"Livr√© le\"\r\n                    value={formatDate(ticket.delivered_at)}\r\n                  />\r\n                )}\r\n              </DetailCard>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Right column: QR + History */}\r\n        <div className=\"space-y-6\">\r\n          {/* QR Code */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-5 flex flex-col items-center\">\r\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4\">\r\n              QR Code\r\n            </h3>\r\n            <QRCodeDisplay ticketId={ticket.ticket_id} size={140} />\r\n            <p className=\"text-xs text-gray-400 mt-3 text-center\">\r\n              Le client peut scanner ce code pour suivre sa r√©paration\r\n            </p>\r\n          </div>\r\n\r\n          {/* Status History */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-5\">\r\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4\">\r\n              Historique\r\n            </h3>\r\n            {ticket.history && ticket.history.length > 0 ? (\r\n              <div className=\"space-y-3\">\r\n                {ticket.history.map((h, i) => (\r\n                  <div key={i} className=\"flex gap-3\">\r\n                    <div className=\"flex flex-col items-center\">\r\n                      <div className=\"w-2.5 h-2.5 rounded-full bg-blue-500 mt-1.5\" />\r\n                      {i < ticket.history.length - 1 && (\r\n                        <div className=\"w-px flex-1 bg-gray-200 mt-1\" />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"pb-3\">\r\n                      <div className=\"flex items-center gap-2 flex-wrap\">\r\n                        {h.old_status && (\r\n                          <>\r\n                            <span className=\"text-xs text-gray-400\">\r\n                              {STATUS_LABELS[h.old_status] || h.old_status}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-300\">‚Üí</span>\r\n                          </>\r\n                        )}\r\n                        <StatusBadge status={h.new_status} />\r\n                      </div>\r\n                      <p className=\"text-xs text-gray-400 mt-0.5\">\r\n                        {formatDate(h.changed_at)}\r\n                      </p>\r\n                      {h.notes && (\r\n                        <p className=\"text-xs text-gray-500 mt-1\">{h.notes}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-sm text-gray-400 text-center py-4\">\r\n                Aucun historique\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DetailCard({ title, children }) {\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-5\">\r\n      <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4\">\r\n        {title}\r\n      </h3>\r\n      <div className=\"space-y-3\">{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DetailRow({ label, value }) {\r\n  return (\r\n    <div className=\"flex flex-col sm:flex-row sm:items-start gap-1 sm:gap-4\">\r\n      <span className=\"text-sm font-medium text-gray-500 sm:w-32 flex-shrink-0\">\r\n        {label}\r\n      </span>\r\n      <span className=\"text-sm text-gray-900 flex-1 whitespace-pre-wrap\">\r\n        {value}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useRef } from \"react\";\r\nimport {\r\n  formatDate,\r\n  formatCurrency,\r\n  CATEGORY_LABELS,\r\n  CATEGORY_ICONS,\r\n} from \"@/lib/utils\";\r\nimport Icon from \"@/components/Icons\";\r\n\r\n/**\r\n * Professional Invoice Component\r\n * Renders a printable invoice for a ticket.\r\n */\r\nexport default function Invoice({ ticket, onClose }) {\r\n  const invoiceRef = useRef(null);\r\n\r\n  function handlePrint() {\r\n    const content = invoiceRef.current;\r\n    const win = window.open(\"\", \"_blank\", \"width=800,height=1000\");\r\n    win.document.write(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"fr\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <title>Facture ${ticket.ticket_id}</title>\r\n        <style>\r\n          * { margin: 0; padding: 0; box-sizing: border-box; }\r\n          body { font-family: 'Segoe UI', Arial, sans-serif; color: #1a1a1a; background: white; }\r\n          @media print {\r\n            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }\r\n            .no-print { display: none !important; }\r\n          }\r\n          .invoice { max-width: 800px; margin: 0 auto; padding: 40px; }\r\n          .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 3px solid #1e40af; }\r\n          .logo-section { display: flex; align-items: center; gap: 16px; }\r\n          .logo-section img { height: 100px; width: auto; object-fit: contain; }\r\n          .company-info { font-size: 11px; color: #6b7280; line-height: 1.6; }\r\n          .invoice-title { text-align: right; }\r\n          .invoice-title h1 { font-size: 28px; color: #1e40af; font-weight: 800; letter-spacing: 2px; }\r\n          .invoice-title .invoice-num { font-size: 13px; color: #6b7280; margin-top: 4px; }\r\n          .invoice-title .invoice-date { font-size: 12px; color: #9ca3af; margin-top: 2px; }\r\n          .section { margin-bottom: 24px; }\r\n          .section-title { font-size: 11px; font-weight: 700; color: #1e40af; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 12px; padding-bottom: 6px; border-bottom: 1px solid #e5e7eb; }\r\n          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }\r\n          .info-box { background: #f9fafb; border-radius: 8px; padding: 16px; }\r\n          .info-box h3 { font-size: 11px; font-weight: 700; color: #6b7280; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }\r\n          .info-row { display: flex; justify-content: space-between; padding: 4px 0; font-size: 13px; }\r\n          .info-row .label { color: #6b7280; }\r\n          .info-row .value { font-weight: 600; color: #1a1a1a; }\r\n          table { width: 100%; border-collapse: collapse; margin-top: 8px; }\r\n          thead th { background: #1e40af; color: white; padding: 10px 14px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; text-align: left; }\r\n          thead th:last-child { text-align: right; }\r\n          tbody td { padding: 12px 14px; font-size: 13px; border-bottom: 1px solid #e5e7eb; }\r\n          tbody td:last-child { text-align: right; font-weight: 600; }\r\n          .totals { margin-top: 16px; display: flex; justify-content: flex-end; }\r\n          .totals-box { width: 280px; }\r\n          .total-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 13px; border-bottom: 1px solid #f3f4f6; }\r\n          .total-row .label { color: #6b7280; }\r\n          .total-row .value { font-weight: 600; }\r\n          .total-row.grand { font-size: 16px; font-weight: 800; color: #1e40af; border-bottom: none; border-top: 2px solid #1e40af; padding-top: 12px; margin-top: 4px; }\r\n          .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; text-align: center; font-size: 11px; color: #9ca3af; line-height: 1.8; }\r\n          .notes { background: #eff6ff; border-radius: 8px; padding: 16px; margin-top: 24px; font-size: 12px; color: #1e40af; line-height: 1.6; }\r\n          .stamp { margin-top: 30px; display: flex; justify-content: space-between; }\r\n          .stamp-box { width: 200px; text-align: center; font-size: 11px; color: #6b7280; }\r\n          .stamp-box .line { border-top: 1px solid #d1d5db; margin-top: 50px; padding-top: 6px; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        ${content.innerHTML}\r\n        <script>window.onload = function() { window.print(); }</script>\r\n      </body>\r\n      </html>\r\n    `);\r\n    win.document.close();\r\n  }\r\n\r\n  const invoiceNumber = `FAC-${ticket.ticket_id?.replace(\"SAV-\", \"\")}`;\r\n  const today = new Date().toLocaleDateString(\"fr-FR\", {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"numeric\",\r\n  });\r\n\r\n  const estimatedCost = parseFloat(ticket.estimated_cost) || 0;\r\n  const finalCost = parseFloat(ticket.final_cost) || 0;\r\n  const total = finalCost || estimatedCost;\r\n  const tva = total * 0.19;\r\n  const totalTTC = total + tva;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 bg-black/50 flex items-start justify-center overflow-auto py-8 px-4\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-[850px] w-full\">\r\n        {/* Toolbar */}\r\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 no-print\">\r\n          <h2 className=\"text-lg font-bold text-gray-900\">\r\n            Aper√ßu de la facture\r\n          </h2>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={handlePrint}\r\n              className=\"px-5 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2\"\r\n            >\r\n              <svg\r\n                className=\"w-4 h-4\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\"\r\n                />\r\n              </svg>\r\n              Imprimer\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200\"\r\n            >\r\n              Fermer\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Invoice Content */}\r\n        <div\r\n          ref={invoiceRef}\r\n          style={{\r\n            padding: \"40px\",\r\n            fontFamily: \"'Segoe UI', Arial, sans-serif\",\r\n            color: \"#1a1a1a\",\r\n          }}\r\n        >\r\n          {/* Header */}\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"flex-start\",\r\n              marginBottom: 40,\r\n              paddingBottom: 20,\r\n              borderBottom: \"3px solid #1e40af\",\r\n            }}\r\n          >\r\n            <div style={{ display: \"flex\", alignItems: \"center\", gap: 16 }}>\r\n              <img\r\n                src=\"/logo.jpg\"\r\n                alt=\"Logo\"\r\n                style={{ height: 200, width: \"auto\", objectFit: \"contain\" }}\r\n              />\r\n              <div style={{ fontSize: 11, color: \"#6b7280\", lineHeight: 1.6 }}>\r\n                <strong\r\n                  style={{ fontSize: 14, color: \"#1a1a1a\", display: \"block\" }}\r\n                >\r\n                  Informatica Company\r\n                </strong>\r\n                12, chemin Sidi Yahia, locale 14\r\n                <br />\r\n                Bir Mourad Ra√Øs, Alger, Alg√©rie\r\n                <br />\r\n                0793 27 23 79\r\n                <br />\r\n                contact@informaticacompany.com\r\n              </div>\r\n            </div>\r\n            <div style={{ textAlign: \"right\" }}>\r\n              <h1\r\n                style={{\r\n                  fontSize: 28,\r\n                  color: \"#1e40af\",\r\n                  fontWeight: 800,\r\n                  letterSpacing: 2,\r\n                }}\r\n              >\r\n                FACTURE\r\n              </h1>\r\n              <div style={{ fontSize: 13, color: \"#6b7280\", marginTop: 4 }}>\r\n                {invoiceNumber}\r\n              </div>\r\n              <div style={{ fontSize: 12, color: \"#9ca3af\", marginTop: 2 }}>\r\n                Date : {today}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Client + Ticket info */}\r\n          <div\r\n            style={{\r\n              display: \"grid\",\r\n              gridTemplateColumns: \"1fr 1fr\",\r\n              gap: 20,\r\n              marginBottom: 24,\r\n            }}\r\n          >\r\n            <div\r\n              style={{ background: \"#f9fafb\", borderRadius: 8, padding: 16 }}\r\n            >\r\n              <h3\r\n                style={{\r\n                  fontSize: 11,\r\n                  fontWeight: 700,\r\n                  color: \"#6b7280\",\r\n                  textTransform: \"uppercase\",\r\n                  letterSpacing: 1,\r\n                  marginBottom: 8,\r\n                }}\r\n              >\r\n                Client\r\n              </h3>\r\n              <div style={{ fontSize: 13 }}>\r\n                <div style={{ fontWeight: 700, fontSize: 14, marginBottom: 4 }}>\r\n                  {ticket.client_name}\r\n                </div>\r\n                <div style={{ color: \"#6b7280\" }}> {ticket.client_phone}</div>\r\n                {ticket.client_email && (\r\n                  <div style={{ color: \"#6b7280\" }}>{ticket.client_email}</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={{ background: \"#f9fafb\", borderRadius: 8, padding: 16 }}\r\n            >\r\n              <h3\r\n                style={{\r\n                  fontSize: 11,\r\n                  fontWeight: 700,\r\n                  color: \"#6b7280\",\r\n                  textTransform: \"uppercase\",\r\n                  letterSpacing: 1,\r\n                  marginBottom: 8,\r\n                }}\r\n              >\r\n                Informations ticket\r\n              </h3>\r\n              <div style={{ fontSize: 13 }}>\r\n                <Row l=\"N¬∞ Ticket\" v={ticket.ticket_id} />\r\n                <Row l=\"Date cr√©ation\" v={formatDate(ticket.created_at)} />\r\n                <Row l=\"Priorit√©\" v={ticket.priority} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Service Table */}\r\n          <div style={{ marginBottom: 24 }}>\r\n            <div\r\n              style={{\r\n                fontSize: 11,\r\n                fontWeight: 700,\r\n                color: \"#1e40af\",\r\n                textTransform: \"uppercase\",\r\n                letterSpacing: 1.5,\r\n                marginBottom: 12,\r\n                paddingBottom: 6,\r\n                borderBottom: \"1px solid #e5e7eb\",\r\n              }}\r\n            >\r\n              D√©tails de la prestation\r\n            </div>\r\n            <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n              <thead>\r\n                <tr>\r\n                  <th\r\n                    style={{\r\n                      background: \"#1e40af\",\r\n                      color: \"white\",\r\n                      padding: \"10px 14px\",\r\n                      fontSize: 11,\r\n                      fontWeight: 700,\r\n                      textTransform: \"uppercase\",\r\n                      letterSpacing: 1,\r\n                      textAlign: \"left\",\r\n                    }}\r\n                  >\r\n                    Description\r\n                  </th>\r\n                  <th\r\n                    style={{\r\n                      background: \"#1e40af\",\r\n                      color: \"white\",\r\n                      padding: \"10px 14px\",\r\n                      fontSize: 11,\r\n                      fontWeight: 700,\r\n                      textTransform: \"uppercase\",\r\n                      letterSpacing: 1,\r\n                      textAlign: \"left\",\r\n                    }}\r\n                  >\r\n                    Mat√©riel\r\n                  </th>\r\n                  <th\r\n                    style={{\r\n                      background: \"#1e40af\",\r\n                      color: \"white\",\r\n                      padding: \"10px 14px\",\r\n                      fontSize: 11,\r\n                      fontWeight: 700,\r\n                      textTransform: \"uppercase\",\r\n                      letterSpacing: 1,\r\n                      textAlign: \"right\",\r\n                    }}\r\n                  >\r\n                    Montant HT\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td\r\n                    style={{\r\n                      padding: \"12px 14px\",\r\n                      fontSize: 13,\r\n                      borderBottom: \"1px solid #e5e7eb\",\r\n                      verticalAlign: \"top\",\r\n                    }}\r\n                  >\r\n                    <div style={{ fontWeight: 600, marginBottom: 4 }}>\r\n                      <span\r\n                        style={{\r\n                          display: \"inline-flex\",\r\n                          alignItems: \"center\",\r\n                          marginRight: 8,\r\n                        }}\r\n                      >\r\n                        <Icon\r\n                          name={CATEGORY_ICONS[ticket.hardware_category]}\r\n                          className=\"w-5 h-5 text-slate-600\"\r\n                        />\r\n                      </span>\r\n                      R√©paration / Maintenance\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        fontSize: 12,\r\n                        color: \"#6b7280\",\r\n                        lineHeight: 1.5,\r\n                      }}\r\n                    >\r\n                      {ticket.problem_description}\r\n                    </div>\r\n                    {ticket.diagnostic_notes && (\r\n                      <div\r\n                        style={{ fontSize: 11, color: \"#9ca3af\", marginTop: 4 }}\r\n                      >\r\n                        Diagnostic : {ticket.diagnostic_notes}\r\n                      </div>\r\n                    )}\r\n                  </td>\r\n                  <td\r\n                    style={{\r\n                      padding: \"12px 14px\",\r\n                      fontSize: 13,\r\n                      borderBottom: \"1px solid #e5e7eb\",\r\n                      verticalAlign: \"top\",\r\n                    }}\r\n                  >\r\n                    <div>\r\n                      {CATEGORY_LABELS[ticket.hardware_category] ||\r\n                        ticket.hardware_category}\r\n                    </div>\r\n                    <div style={{ fontSize: 12, color: \"#6b7280\" }}>\r\n                      {[ticket.brand, ticket.model].filter(Boolean).join(\" \") ||\r\n                        \"‚Äî\"}\r\n                    </div>\r\n                    {ticket.serial_number && (\r\n                      <div style={{ fontSize: 11, color: \"#9ca3af\" }}>\r\n                        S/N: {ticket.serial_number}\r\n                      </div>\r\n                    )}\r\n                  </td>\r\n                  <td\r\n                    style={{\r\n                      padding: \"12px 14px\",\r\n                      fontSize: 13,\r\n                      borderBottom: \"1px solid #e5e7eb\",\r\n                      textAlign: \"right\",\r\n                      fontWeight: 600,\r\n                      verticalAlign: \"top\",\r\n                    }}\r\n                  >\r\n                    {total > 0 ? `${total.toLocaleString(\"fr-DZ\")} DA` : \"‚Äî\"}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Totals */}\r\n          {total > 0 && (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-end\",\r\n                marginBottom: 24,\r\n              }}\r\n            >\r\n              <div style={{ width: 280 }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    padding: \"8px 0\",\r\n                    fontSize: 13,\r\n                    borderBottom: \"1px solid #f3f4f6\",\r\n                  }}\r\n                >\r\n                  <span style={{ color: \"#6b7280\" }}>Total HT</span>\r\n                  <span style={{ fontWeight: 600 }}>\r\n                    {total.toLocaleString(\"fr-DZ\")} DA\r\n                  </span>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    padding: \"8px 0\",\r\n                    fontSize: 13,\r\n                    borderBottom: \"1px solid #f3f4f6\",\r\n                  }}\r\n                >\r\n                  <span style={{ color: \"#6b7280\" }}>TVA (19%)</span>\r\n                  <span style={{ fontWeight: 600 }}>\r\n                    {tva.toLocaleString(\"fr-DZ\", { minimumFractionDigits: 2 })}{\" \"}\r\n                    DA\r\n                  </span>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    padding: \"12px 0\",\r\n                    fontSize: 16,\r\n                    fontWeight: 800,\r\n                    color: \"#1e40af\",\r\n                    borderTop: \"2px solid #1e40af\",\r\n                    marginTop: 4,\r\n                  }}\r\n                >\r\n                  <span>Total TTC</span>\r\n                  <span>\r\n                    {totalTTC.toLocaleString(\"fr-DZ\", {\r\n                      minimumFractionDigits: 2,\r\n                    })}{\" \"}\r\n                    DA\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Notes */}\r\n          {ticket.technician_notes && (\r\n            <div\r\n              style={{\r\n                background: \"#eff6ff\",\r\n                borderRadius: 8,\r\n                padding: 16,\r\n                fontSize: 12,\r\n                color: \"#1e40af\",\r\n                lineHeight: 1.6,\r\n                marginBottom: 24,\r\n              }}\r\n            >\r\n              <strong>Notes :</strong> {ticket.technician_notes}\r\n            </div>\r\n          )}\r\n\r\n          {/* Signature */}\r\n          <div\r\n            style={{\r\n              marginTop: 30,\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: 200,\r\n                textAlign: \"center\",\r\n                fontSize: 11,\r\n                color: \"#6b7280\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  borderTop: \"1px solid #d1d5db\",\r\n                  marginTop: 60,\r\n                  paddingTop: 6,\r\n                }}\r\n              >\r\n                Cachet et signature\r\n                <br />\r\n                de l&apos;entreprise\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={{\r\n                width: 200,\r\n                textAlign: \"center\",\r\n                fontSize: 11,\r\n                color: \"#6b7280\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  borderTop: \"1px solid #d1d5db\",\r\n                  marginTop: 60,\r\n                  paddingTop: 6,\r\n                }}\r\n              >\r\n                Signature du client\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div\r\n            style={{\r\n              marginTop: 40,\r\n              paddingTop: 20,\r\n              borderTop: \"1px solid #e5e7eb\",\r\n              textAlign: \"center\",\r\n              fontSize: 11,\r\n              color: \"#9ca3af\",\r\n              lineHeight: 1.8,\r\n            }}\r\n          >\r\n            Informatica Company ‚Äî 12, chemin Sidi Yahia, locale 14, Bir Mourad\r\n            Ra√Øs, Alger, Alg√©rie\r\n            <br />\r\n            0793 27 23 79 ‚Äî contact@informaticacompany.com\r\n            <br />\r\n            Merci pour votre confiance !\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Row({ l, v }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        padding: \"3px 0\",\r\n        fontSize: 13,\r\n      }}\r\n    >\r\n      <span style={{ color: \"#6b7280\" }}>{l}</span>\r\n      <span style={{ fontWeight: 600 }}>{v}</span>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}