module.exports=[91252,a=>{"use strict";let b=["Received","Diagnostic","In Progress","Completed","Delivered"];function c(a){return a?new Date(a).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"â€”"}function d(a){return null==a?"â€”":new Intl.NumberFormat("fr-DZ",{style:"currency",currency:"DZD",minimumFractionDigits:0}).format(a)}function e(a){return b.indexOf(a)}function f(a){let b=a.replace(/[\s\-\.]/g,"");return/^(\+?\d{10,15})$/.test(b)}a.s(["BRANDS",0,["HP","Dell","Lenovo","Acer","Toshiba","Epson","Canon","Sharp","Kyocera","Lexmark","Dahua","Tenda","TP-Link","D-Link","TopLink","Enigma"],"CATEGORIES",0,["Laser Mono - Photocopieur","Laser Mono - MFP","Laser Couleur - Photocopieur","Laser Couleur - MFP","MFP Ink","Matricielle","Laptop","All In One","PC Bureaux","Serveur","Ecran","Reseau","Other"],"CATEGORY_GROUPS",0,[{group:"Imprimante",icon:"ðŸ–¨ï¸",items:["Laser Mono - Photocopieur","Laser Mono - MFP","Laser Couleur - Photocopieur","Laser Couleur - MFP","MFP Ink","Matricielle"]},{group:"Informatique",icon:"ðŸ’»",items:["Laptop","All In One","PC Bureaux","Serveur","Ecran","Reseau"]}],"CATEGORY_ICONS",0,{"Laser Mono - Photocopieur":"printer","Laser Mono - MFP":"printer","Laser Couleur - Photocopieur":"printer","Laser Couleur - MFP":"printer","MFP Ink":"printer",Matricielle:"printer",Laptop:"laptop","All In One":"laptop","PC Bureaux":"laptop",Serveur:"server",Ecran:"laptop",Reseau:"server",Other:"wrench"},"CATEGORY_LABELS",0,{"Laser Mono - Photocopieur":"Laser Mono â€“ Photocopieur","Laser Mono - MFP":"Laser Mono â€“ Imprimante MFP","Laser Couleur - Photocopieur":"Laser Couleur â€“ Photocopieur","Laser Couleur - MFP":"Laser Couleur â€“ Imprimante MFP","MFP Ink":"MFP Ink Cartouche / Bouteille",Matricielle:"Matricielle",Laptop:"Laptop","All In One":"All In One","PC Bureaux":"PC Bureaux",Serveur:"Serveur",Ecran:"Ã‰cran",Reseau:"RÃ©seau",Other:"Autre"},"COMPUTER_CATEGORIES",0,["Laptop","All In One","PC Bureaux","Serveur"],"COMPUTER_PROBLEMS",0,["Disques durs (HDD / SSD)","Barrettes mÃ©moire (RAM)","Cartes mÃ¨res","Alimentations","Cartes graphiques","Processeurs","Ventilateurs / SystÃ¨mes de refroidissement"],"PRIORITIES",0,["Low","Normal","High","Urgent"],"PRIORITY_COLORS",0,{Low:{bg:"bg-slate-100",text:"text-slate-600"},Normal:{bg:"bg-blue-50",text:"text-blue-600"},High:{bg:"bg-orange-100",text:"text-orange-700"},Urgent:{bg:"bg-red-100",text:"text-red-700"}},"PRIORITY_LABELS",0,{Low:"Basse",Normal:"Normale",High:"Haute",Urgent:"Urgente"},"STATUSES",0,b,"STATUS_COLORS",0,{Received:{bg:"bg-red-100",text:"text-red-700",dot:"bg-red-500"},Diagnostic:{bg:"bg-amber-100",text:"text-amber-700",dot:"bg-amber-500"},"In Progress":{bg:"bg-blue-100",text:"text-blue-700",dot:"bg-blue-500"},Completed:{bg:"bg-green-100",text:"text-green-700",dot:"bg-green-500"},Delivered:{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"}},"STATUS_LABELS",0,{Received:"ReÃ§u",Diagnostic:"Diagnostic","In Progress":"En cours",Completed:"TerminÃ©",Delivered:"LivrÃ©"},"TRANSITIONS",0,{Received:["Diagnostic"],Diagnostic:["In Progress","Received","Completed"],"In Progress":["Completed","Diagnostic"],Completed:["Delivered","In Progress"],Delivered:[]},"formatCurrency",()=>d,"formatDate",()=>c,"getStatusStep",()=>e,"validatePhone",()=>f])},68402,21924,a=>{"use strict";var b=a.i(17123),c=a.i(91252);function d({status:a,size:d="sm"}){let e=c.STATUS_COLORS[a]||{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"},f=c.STATUS_LABELS[a]||a;return(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 rounded-full font-semibold ${e.bg} ${e.text} ${"lg"===d?"px-3 py-1.5 text-sm":"px-2.5 py-0.5 text-xs"} transition-colors duration-300`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${e.dot} transform transition-transform duration-300`}),f]})}function e({message:a="Chargement..."}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-3 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a})]})}a.s(["default",()=>d],68402),a.s(["default",()=>e],21924)},51442,a=>{"use strict";var b=a.i(17123),c=a.i(91252);function d({priority:a}){let d=c.PRIORITY_COLORS[a]||{bg:"bg-gray-100",text:"text-gray-600"},e=c.PRIORITY_LABELS[a]||a;return(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${d.bg} ${d.text}`,children:e})}a.s(["default",()=>d])},84292,a=>{"use strict";var b=a.i(17123);function c({icon:a="ðŸ“‹",title:c,message:d,action:e}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)("span",{className:"text-5xl mb-4",children:a}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-1",children:c}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4 max-w-sm",children:d}),e]})}a.s(["default",()=>c])},71383,a=>{"use strict";var b=a.i(17123),c=a.i(41294),d=a.i(63327),e=a.i(68402);a.i(51442);var f=a.i(21924),g=a.i(59108),h=a.i(84292),i=a.i(91252);function j(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(0),[m,n]=(0,c.useState)(1),[o,p]=(0,c.useState)(1),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(null),y=(0,c.useCallback)(async()=>{r(!0);try{let a={page:m};s&&(a.search=s),u&&(a.category=u);let b=await (0,d.getArchives)(a);j(b.data||[]),l(b.total||0),p(b.pages||1)}catch{j([])}finally{r(!1)}},[m,s,u]);return(0,c.useEffect)(()=>{y()},[y]),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Archives"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[k," ticket",1!==k?"s":""," archivÃ©",1!==k?"s":""]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("input",{type:"text",value:s,onChange:a=>{t(a.target.value),n(1)},placeholder:"Rechercher dans les archives...",className:"w-full px-3.5 py-2 rounded-lg border border-gray-300 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})}),(0,b.jsxs)("select",{value:u,onChange:a=>{v(a.target.value),n(1)},className:"px-3 py-2 rounded-lg border border-gray-300 text-sm outline-none focus:border-blue-500 bg-white",children:[(0,b.jsx)("option",{value:"",children:"Toutes catÃ©gories"}),i.CATEGORIES.map(a=>(0,b.jsx)("option",{value:a,children:i.CATEGORY_LABELS[a]},a))]})]})}),q?(0,b.jsx)(f.default,{}):0===a.length?(0,b.jsx)(h.default,{icon:"ðŸ—„ï¸",title:"Aucune archive",message:"Les tickets livrÃ©s et archivÃ©s apparaÃ®tront ici."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>{let c=w===a.ticket_id;return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,b.jsx)("button",{onClick:()=>x(c?null:a.ticket_id),className:"w-full p-4 text-left focus:outline-none",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 min-w-0",children:[(0,b.jsx)("span",{className:"text-xl mt-0.5",children:(0,b.jsx)(g.default,{name:i.CATEGORY_ICONS[a.hardware_category],className:"w-6 h-6 text-slate-600"})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-mono font-bold text-gray-700",children:a.ticket_id}),(0,b.jsx)(e.default,{status:a.status})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-0.5",children:[a.client_name," Â· ",a.client_phone]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-end gap-1 flex-shrink-0 ml-3",children:[(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"ArchivÃ© le"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:(0,i.formatDate)(a.archived_at)}),(0,b.jsx)("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),c&&(0,b.jsxs)("div",{className:"px-4 pb-4 border-t border-gray-100 pt-3 space-y-3",children:[(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"CatÃ©gorie :"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:i.CATEGORY_LABELS[a.hardware_category]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Marque :"})," ",(0,b.jsxs)("span",{className:"text-gray-900",children:[a.brand||"â€”"," ",a.model||""]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"CrÃ©Ã© le :"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:(0,i.formatDate)(a.created_at)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"LivrÃ© le :"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:(0,i.formatDate)(a.delivered_at)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"CoÃ»t estimÃ© :"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:(0,i.formatCurrency)(a.estimated_cost)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"CoÃ»t final :"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:(0,i.formatCurrency)(a.final_cost)})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"ProblÃ¨me"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.problem_description})]}),a.diagnostic_notes&&(0,b.jsxs)("div",{className:"bg-amber-50 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-amber-600 uppercase mb-1",children:"Diagnostic"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.diagnostic_notes})]})]})]},a.ticket_id)})}),o>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>n(a=>Math.max(1,a-1)),disabled:1===m,className:"px-3 py-1.5 text-sm rounded-lg border border-gray-300 disabled:opacity-40 hover:bg-gray-50",children:"â† PrÃ©cÃ©dent"}),(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",m," / ",o]}),(0,b.jsx)("button",{onClick:()=>n(a=>Math.min(o,a+1)),disabled:m===o,className:"px-3 py-1.5 text-sm rounded-lg border border-gray-300 disabled:opacity-40 hover:bg-gray-50",children:"Suivant â†’"})]})]})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=sav-gestion-client_src_1cd776b8._.js.map